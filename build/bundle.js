var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function c(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function u(t,e,n,r,i,o,a){const s=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(s){const i=c(e,n,r,a);t.p(i,s)}}const h="undefined"!=typeof window;let f=h?()=>window.performance.now():()=>Date.now(),d=h?t=>requestAnimationFrame(t):t;const g=new Set;function p(t){g.forEach((e=>{e.c(t)||(g.delete(e),e.f())})),0!==g.size&&d(p)}function y(t,e){t.appendChild(e)}function m(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function x(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function M(){return w(" ")}function k(){return w("")}function N(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function H(t,e){for(const n in e)A(t,n,e[n])}function Y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let X,S;function C(){if(void 0===X){X=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){X=!0}}return X}function E(t,e){const n=getComputedStyle(t),r=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(t.style.position="relative");const i=$("iframe");i.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${r};`),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=C();let a;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",a=N(window,"message",(t=>{t.source===i.contentWindow&&e()}))):(i.src="about:blank",i.onload=()=>{a=N(i.contentWindow,"resize",e)}),y(t,i),()=>{(o||a&&i.contentWindow)&&a(),v(i)}}function T(t,e,n){t.classList[n?"add":"remove"](e)}function j(t){S=t}function L(){if(!S)throw new Error("Function called outside component initialization");return S}function D(t){L().$$.on_destroy.push(t)}function P(){const t=L();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}const _=[],z=[],I=[],O=[],R=Promise.resolve();let q=!1;function F(t){I.push(t)}let W=!1;const B=new Set;function V(){if(!W){W=!0;do{for(let t=0;t<_.length;t+=1){const e=_[t];j(e),G(e.$$)}for(j(null),_.length=0;z.length;)z.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];B.has(e)||(B.add(e),e())}I.length=0}while(_.length);for(;O.length;)O.pop()();q=!1,W=!1,B.clear()}}function G(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}const K=new Set;function U(t,e){t&&t.i&&(K.delete(t),t.i(e))}function Z(t,e,n,r){if(t&&t.o){if(K.has(t))return;K.add(t),undefined.c.push((()=>{K.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function J(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function Q(t){t&&t.c()}function tt(t,e,n){const{fragment:i,on_mount:s,on_destroy:l,after_update:c}=t.$$;i&&i.m(e,n),F((()=>{const e=s.map(r).filter(a);l?l.push(...e):o(e),t.$$.on_mount=[]})),c.forEach(F)}function et(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(t,e){-1===t.$$.dirty[0]&&(_.push(t),q||(q=!0,R.then(V)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function rt(e,n,r,a,s,l,c=[-1]){const u=S;j(e);const h=n.props||{},f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:c,skip_bound:!1};let d=!1;if(f.ctx=r?r(e,h,((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&nt(e,t)),n})):[],f.update(),d=!0,o(f.before_update),f.fragment=!!a&&a(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(v)}else f.fragment&&f.fragment.c();n.intro&&U(e.$$.fragment),tt(e,n.target,n.anchor),V()}j(u)}class it{$destroy(){et(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ot=180/Math.PI,at=100;class st{constructor(t){var e,n,r,i,o,a,s,l,c;this.bearingHistories=[],this.distanceFromPlayer=100,this.update=()=>{this.angularVelocity+=this.angularAcceleration,this.angularVelocity*=.9,this.incrementHeading(this.angularVelocity);const t=(this.heading-90)/ot;this.velocityX+=this.acceleration*Math.cos(t),this.velocityY+=this.acceleration*Math.sin(t),this.velocityX*=.9,this.velocityY*=.9,this.positionX+=this.velocityX,this.positionY+=this.velocityY},this.updateDistanceFromPlayer=t=>{this.distanceFromPlayer=Math.hypot(this.positionX-t.positionX,this.positionY-t.positionY)},this.getSize=()=>Math.min(40,1e3/(this.distanceFromPlayer+10)),this.getOpacity=()=>400/(this.distanceFromPlayer+400),this.addBearing=t=>{this.bearingHistories.unshift(t),this.bearingHistories.length>this.maxHistoryLength&&this.bearingHistories.pop()},this.setHeading=t=>{this.heading=t%360},this.setHeadingFromDxDy=(t,e,n=!1)=>{const r=n?this.heading/ot:0;this.setHeading((r-Math.atan2(t,e))*ot)},this.incrementHeading=t=>{this.setHeading(this.heading+t)},this.acceleration=null!==(e=t.acceleration)&&void 0!==e?e:0,this.angularAcceleration=null!==(n=t.angularAcceleration)&&void 0!==n?n:0,this.angularVelocity=null!==(r=t.angularVelocity)&&void 0!==r?r:0,this.heading=null!==(i=t.heading)&&void 0!==i?i:0,this.label=t.label||"",this.maxHistoryLength=null!==(o=t.maxHistoryLength)&&void 0!==o?o:50,this.positionX=null!==(a=t.positionX)&&void 0!==a?a:0,this.positionY=null!==(s=t.positionY)&&void 0!==s?s:0,this.velocityX=null!==(l=t.velocityX)&&void 0!==l?l:0,this.velocityY=null!==(c=t.velocityY)&&void 0!==c?c:0}}function lt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ct(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>lt(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,n,i,o-1);return a>i&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}const ut=ct(lt).right;ct((function(t){return null===t?NaN:+t})).center;var ht=Math.sqrt(50),ft=Math.sqrt(10),dt=Math.sqrt(2);function gt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ht?10:o>=ft?5:o>=dt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ht?10:o>=ft?5:o>=dt?2:1)}function pt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function yt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vt(){}var bt=.7,$t=1/bt,xt="\\s*([+-]?\\d+)\\s*",wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kt=/^#([0-9a-f]{3,8})$/,Nt=new RegExp("^rgb\\("+[xt,xt,xt]+"\\)$"),At=new RegExp("^rgb\\("+[Mt,Mt,Mt]+"\\)$"),Ht=new RegExp("^rgba\\("+[xt,xt,xt,wt]+"\\)$"),Yt=new RegExp("^rgba\\("+[Mt,Mt,Mt,wt]+"\\)$"),Xt=new RegExp("^hsl\\("+[wt,Mt,Mt]+"\\)$"),St=new RegExp("^hsla\\("+[wt,Mt,Mt,wt]+"\\)$"),Ct={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Et(){return this.rgb().formatHex()}function Tt(){return this.rgb().formatRgb()}function jt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Lt(e):3===n?new zt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Dt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Dt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Nt.exec(t))?new zt(e[1],e[2],e[3],1):(e=At.exec(t))?new zt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ht.exec(t))?Dt(e[1],e[2],e[3],e[4]):(e=Yt.exec(t))?Dt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Xt.exec(t))?qt(e[1],e[2]/100,e[3]/100,1):(e=St.exec(t))?qt(e[1],e[2]/100,e[3]/100,e[4]):Ct.hasOwnProperty(t)?Lt(Ct[t]):"transparent"===t?new zt(NaN,NaN,NaN,0):null}function Lt(t){return new zt(t>>16&255,t>>8&255,255&t,1)}function Dt(t,e,n,r){return r<=0&&(t=e=n=NaN),new zt(t,e,n,r)}function Pt(t){return t instanceof vt||(t=jt(t)),t?new zt((t=t.rgb()).r,t.g,t.b,t.opacity):new zt}function _t(t,e,n,r){return 1===arguments.length?Pt(t):new zt(t,e,n,null==r?1:r)}function zt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function It(){return"#"+Rt(this.r)+Rt(this.g)+Rt(this.b)}function Ot(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Rt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function qt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wt(t,e,n,r)}function Ft(t){if(t instanceof Wt)return new Wt(t.h,t.s,t.l,t.opacity);if(t instanceof vt||(t=jt(t)),!t)return new Wt;if(t instanceof Wt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Wt(a,s,l,t.opacity)}function Wt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Bt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}yt(vt,jt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Et,formatHex:Et,formatHsl:function(){return Ft(this).formatHsl()},formatRgb:Tt,toString:Tt}),yt(zt,_t,mt(vt,{brighter:function(t){return t=null==t?$t:Math.pow($t,t),new zt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?bt:Math.pow(bt,t),new zt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:It,formatHex:It,formatRgb:Ot,toString:Ot})),yt(Wt,(function(t,e,n,r){return 1===arguments.length?Ft(t):new Wt(t,e,n,null==r?1:r)}),mt(vt,{brighter:function(t){return t=null==t?$t:Math.pow($t,t),new Wt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?bt:Math.pow(bt,t),new Wt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new zt(Bt(t>=240?t-240:t+120,i,r),Bt(t,i,r),Bt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Vt=t=>()=>t;function Gt(t){return 1==(t=+t)?Kt:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Vt(isNaN(e)?n:e)}}function Kt(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Vt(isNaN(t)?e:t)}var Ut=function t(e){var n=Gt(e);function r(t,e){var r=n((t=_t(t)).r,(e=_t(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Kt(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Zt(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Jt(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=oe(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Qt(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function te(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ee(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=oe(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var ne=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,re=new RegExp(ne.source,"g");function ie(t,e){var n,r,i,o=ne.lastIndex=re.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=ne.exec(t))&&(r=re.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:te(n,r)})),o=re.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function oe(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?Vt(e):("number"===i?te:"string"===i?(n=jt(e))?(e=n,Ut):ie:e instanceof jt?Ut:e instanceof Date?Qt:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Jt:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ee:te:Zt))(t,e)}function ae(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function se(t){return+t}var le=[0,1];function ce(t){return t}function ue(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function he(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=ue(i,r),o=n(a,o)):(r=ue(r,i),o=n(o,a)),function(t){return o(r(t))}}function fe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=ue(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=ut(t,e,1,r)-1;return o[n](i[n](e))}}function de(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ge(){var t,e,n,r,i,o,a=le,s=le,l=oe,c=ce;function u(){var t,e,n,l=Math.min(a.length,s.length);return c!==ce&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=l>2?fe:he,i=o=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),te)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,se),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=ae,u()},h.clamp=function(t){return arguments.length?(c=!!t||ce,u()):c!==ce},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function pe(){return ge()(ce,ce)}function ye(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function me(t){return(t=ye(Math.abs(t)))?t[1]:NaN}var ve,be=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $e(t){if(!(e=be.exec(t)))throw new Error("invalid format: "+t);var e;return new xe({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function xe(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function we(t,e){var n=ye(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}$e.prototype=xe.prototype,xe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Me={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>we(100*t,e),r:we,s:function(t,e){var n=ye(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(ve=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ye(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ke(t){return t}var Ne,Ae,He,Ye=Array.prototype.map,Xe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Se(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?ke:(e=Ye.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?ke:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ye.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=$e(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,g=t.width,p=t.comma,y=t.precision,m=t.trim,v=t.type;"n"===v?(p=!0,v="g"):Me[v]||(void 0===y&&(y=12),m=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",$="$"===f?o:/[%p]/.test(v)?l:"",x=Me[v],w=/[defgprs%]/.test(v);function M(t){var i,o,l,f=b,M=$;if("c"===v)M=x(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),y),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==h&&(k=!1),f=(k?"("===h?h:c:"-"===h||"("===h?"":h)+f,M=("s"===v?Xe[8+ve/3]:"")+M+(k&&"("===h?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){M=(46===l?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}p&&!d&&(t=r(t,1/0));var N=f.length+t.length+M.length,A=N<g?new Array(g-N+1).join(e):"";switch(p&&d&&(t=r(A+t,A.length?g-M.length:1/0),A=""),n){case"<":t=f+t+M+A;break;case"=":t=f+A+t+M;break;case"^":t=A.slice(0,N=A.length>>1)+f+t+M+A.slice(N);break;default:t=A+f+t+M}return s(t)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,e){var n=h(((t=$e(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(me(e)/3))),i=Math.pow(10,-r),o=Xe[8+r/3];return function(t){return n(i*t)+o}}}}function Ce(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ht?i*=10:o>=ft?i*=5:o>=dt&&(i*=2),e<t?-i:i}(t,e,n);switch((r=$e(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(me(e)/3)))-me(Math.abs(t)))}(o,a))||(r.precision=i),He(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,me(e)-me(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-me(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Ae(r)}function Ee(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=gt(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(a=-a,t=Math.ceil(t*a),e=Math.floor(e*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Ce(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=gt(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Te(){var t=pe();return t.copy=function(){return de(t,Te())},pt.apply(t,arguments),Ee(t)}function je(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function Le(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function De(t,e,n){const r=t.slice();return r[22]=e[n],r}function Pe(t,e,n){const r=t.slice();return r[22]=e[n],r}function _e(t,e,n){const r=t.slice();return r[27]=e[n],r}function ze(t){let e,n,r,i,o;return{c(){e=x("line"),A(e,"x1",n=t[12].left),A(e,"y1",r=t[5](t[27])),A(e,"x2",i=t[12].left+t[3]),A(e,"y2",o=t[5](t[27])),A(e,"class","svelte-a4k3aa")},m(t,n){m(t,e,n)},p(t,n){2080&n&&r!==(r=t[5](t[27]))&&A(e,"y1",r),8&n&&i!==(i=t[12].left+t[3])&&A(e,"x2",i),2080&n&&o!==(o=t[5](t[27]))&&A(e,"y2",o)},d(t){t&&v(e)}}}function Ie(t){let e,n,r,i,o,a,s=t[22].text+"";return{c(){e=x("text"),n=w(s),r=w("°\n\t        "),A(e,"dy",i=-15),A(e,"text-anchor","middle"),A(e,"x",o=t[22].x+t[12].left),A(e,"y",a=t[12].top)},m(t,i){m(t,e,i),y(e,n),y(e,r)},p(t,r){128&r&&s!==(s=t[22].text+"")&&Y(n,s),128&r&&o!==(o=t[22].x+t[12].left)&&A(e,"x",o)},d(t){t&&v(e)}}}function Oe(t){let e,n,r;return{c(){e=x("line"),A(e,"x1",n=t[22].x+t[12].left),A(e,"x2",r=t[22].x+t[12].left),A(e,"y1",t[8]),A(e,"y2",t[9]),A(e,"class","svelte-a4k3aa")},m(t,n){m(t,e,n)},p(t,i){128&i&&n!==(n=t[22].x+t[12].left)&&A(e,"x1",n),128&i&&r!==(r=t[22].x+t[12].left)&&A(e,"x2",r),256&i&&A(e,"y1",t[8]),512&i&&A(e,"y2",t[9])},d(t){t&&v(e)}}}function Re(t){let e,n,r,i;return{c(){e=x("path"),A(e,"d",n=t[10][t[20]]),A(e,"opacity",r=t[18].getOpacity()),A(e,"stroke",i=t[0][t[20]]),A(e,"class","svelte-a4k3aa")},m(t,n){m(t,e,n)},p(t,o){1024&o&&n!==(n=t[10][t[20]])&&A(e,"d",n),2&o&&r!==(r=t[18].getOpacity())&&A(e,"opacity",r),1&o&&i!==(i=t[0][t[20]])&&A(e,"stroke",i)},d(t){t&&v(e)}}}function qe(t){let e,n=t[18].bearingHistories.length>0&&Re(t);return{c(){n&&n.c(),e=k()},m(t,r){n&&n.m(t,r),m(t,e,r)},p(t,r){t[18].bearingHistories.length>0?n?n.p(t,r):(n=Re(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&v(e)}}}function Fe(t){let e,n,r,i,o,a;return{c(){e=x("circle"),A(e,"cx",n=t[4](t[18].bearingHistories[0])),A(e,"cy",r=t[5](0)),A(e,"opacity",i=t[18].getOpacity()),A(e,"r",o=t[18].getSize()),A(e,"stroke",a=t[0][t[20]]),A(e,"class","svelte-a4k3aa")},m(t,n){m(t,e,n)},p(t,s){18&s&&n!==(n=t[4](t[18].bearingHistories[0]))&&A(e,"cx",n),32&s&&r!==(r=t[5](0))&&A(e,"cy",r),2&s&&i!==(i=t[18].getOpacity())&&A(e,"opacity",i),2&s&&o!==(o=t[18].getSize())&&A(e,"r",o),1&s&&a!==(a=t[0][t[20]])&&A(e,"stroke",a)},d(t){t&&v(e)}}}function We(t){let e,n=t[18].bearingHistories.length>0&&Fe(t);return{c(){n&&n.c(),e=k()},m(t,r){n&&n.m(t,r),m(t,e,r)},p(t,r){t[18].bearingHistories.length>0?n?n.p(t,r):(n=Fe(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&v(e)}}}function Be(e){let n,r,i,o,a,s,l,c,u,h,f,d,g,p,M,k,N,H,X,S,C,T,j,L,D,P,_,z,I,O,R,q,W,B,V,G,K=Math.round(e[6])+"",U=e[11],Z=[];for(let t=0;t<U.length;t+=1)Z[t]=ze(_e(e,U,t));let J=e[7],Q=[];for(let t=0;t<J.length;t+=1)Q[t]=Ie(Pe(e,J,t));let tt=e[7],et=[];for(let t=0;t<tt.length;t+=1)et[t]=Oe(De(e,tt,t));let nt=e[1],rt=[];for(let t=0;t<nt.length;t+=1)rt[t]=qe(Le(e,nt,t));let it=e[1],ot=[];for(let t=0;t<it.length;t+=1)ot[t]=We(je(e,it,t));return{c(){n=$("main"),r=$("div"),i=x("svg"),o=x("g");for(let t=0;t<Z.length;t+=1)Z[t].c();a=x("g");for(let t=0;t<Q.length;t+=1)Q[t].c();s=x("g"),l=x("text"),c=w("Now"),d=x("line"),N=x("line"),C=x("line"),L=x("text"),D=w(K),P=w(" sec"),I=x("text"),O=w("ago"),W=x("g");for(let t=0;t<et.length;t+=1)et[t].c();B=x("g");for(let t=0;t<rt.length;t+=1)rt[t].c();V=x("g");for(let t=0;t<ot.length;t+=1)ot[t].c();A(l,"x",u=e[12].left-20),A(l,"y",h=e[5](0)),A(l,"dy",f=5),A(l,"text-anchor","end"),A(d,"class","axis svelte-a4k3aa"),A(d,"x1",g=e[12].left-15),A(d,"y1",p=e[5](0)),A(d,"x2",M=e[12].left),A(d,"y2",k=e[5](0)),A(N,"class","axis svelte-a4k3aa"),A(N,"x1",H=e[12].left),A(N,"y1",X=e[5](0)),A(N,"x2",S=e[12].left),A(N,"y2",e[9]),A(C,"class","axis svelte-a4k3aa"),A(C,"x1",T=e[12].left-15),A(C,"y1",e[9]),A(C,"x2",j=e[12].left),A(C,"y2",e[9]),A(L,"x",_=e[12].left-20),A(L,"y",e[9]),A(L,"dy",z=-5),A(L,"text-anchor","end"),A(I,"x",R=e[12].left-20),A(I,"y",e[9]),A(I,"dy",q=10),A(I,"text-anchor","end"),A(s,"transform","translate(-20,0)"),A(i,"width",e[2]),A(i,"height",Ve),A(i,"class","svelte-a4k3aa"),F((()=>e[17].call(r))),A(n,"class","svelte-a4k3aa")},m(t,u){m(t,n,u),y(n,r),y(r,i),y(i,o);for(let t=0;t<Z.length;t+=1)Z[t].m(o,null);y(i,a);for(let t=0;t<Q.length;t+=1)Q[t].m(a,null);y(i,s),y(s,l),y(l,c),y(s,d),y(s,N),y(s,C),y(s,L),y(L,D),y(L,P),y(s,I),y(I,O),y(i,W);for(let t=0;t<et.length;t+=1)et[t].m(W,null);y(i,B);for(let t=0;t<rt.length;t+=1)rt[t].m(B,null);y(i,V);for(let t=0;t<ot.length;t+=1)ot[t].m(V,null);G=E(r,e[17].bind(r))},p(t,[e]){if(6184&e){let n;for(U=t[11],n=0;n<U.length;n+=1){const r=_e(t,U,n);Z[n]?Z[n].p(r,e):(Z[n]=ze(r),Z[n].c(),Z[n].m(o,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=U.length}if(4224&e){let n;for(J=t[7],n=0;n<J.length;n+=1){const r=Pe(t,J,n);Q[n]?Q[n].p(r,e):(Q[n]=Ie(r),Q[n].c(),Q[n].m(a,null))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=J.length}if(32&e&&h!==(h=t[5](0))&&A(l,"y",h),32&e&&p!==(p=t[5](0))&&A(d,"y1",p),32&e&&k!==(k=t[5](0))&&A(d,"y2",k),32&e&&X!==(X=t[5](0))&&A(N,"y1",X),512&e&&A(N,"y2",t[9]),512&e&&A(C,"y1",t[9]),512&e&&A(C,"y2",t[9]),64&e&&K!==(K=Math.round(t[6])+"")&&Y(D,K),512&e&&A(L,"y",t[9]),512&e&&A(I,"y",t[9]),4992&e){let n;for(tt=t[7],n=0;n<tt.length;n+=1){const r=De(t,tt,n);et[n]?et[n].p(r,e):(et[n]=Oe(r),et[n].c(),et[n].m(W,null))}for(;n<et.length;n+=1)et[n].d(1);et.length=tt.length}if(1027&e){let n;for(nt=t[1],n=0;n<nt.length;n+=1){const r=Le(t,nt,n);rt[n]?rt[n].p(r,e):(rt[n]=qe(r),rt[n].c(),rt[n].m(B,null))}for(;n<rt.length;n+=1)rt[n].d(1);rt.length=nt.length}if(51&e){let n;for(it=t[1],n=0;n<it.length;n+=1){const r=je(t,it,n);ot[n]?ot[n].p(r,e):(ot[n]=We(r),ot[n].c(),ot[n].m(V,null))}for(;n<ot.length;n+=1)ot[n].d(1);ot.length=it.length}4&e&&A(i,"width",t[2])},i:t,o:t,d(t){t&&v(n),b(Z,t),b(Q,t),b(et,t),b(rt,t),b(ot,t),G()}}}Ne=Se({thousands:",",grouping:[3],currency:["$",""]}),Ae=Ne.format,He=Ne.formatPrefix;let Ve=500;function Ge(t,e,n){let{colors:r}=e,{intervalCount:i=0}=e,{intervalTime:o=50}=e,{maxHistoryLength:a=50}=e,{otherActors:s=[]}=e,l=1e3;const c={top:40,left:100,right:20,bottom:15};let u,h,f,d,g,p,y,m,v,b;return t.$$set=t=>{"colors"in t&&n(0,r=t.colors),"intervalCount"in t&&n(13,i=t.intervalCount),"intervalTime"in t&&n(14,o=t.intervalTime),"maxHistoryLength"in t&&n(15,a=t.maxHistoryLength),"otherActors"in t&&n(1,s=t.otherActors)},t.$$.update=()=>{4&t.$$.dirty&&n(3,h=l-c.left-c.right),8&t.$$.dirty&&n(7,f=[{text:180,x:0},{text:270,x:h/4},{text:0,x:h/2},{text:90,x:3*h/4},{text:180,x:h}]),8&t.$$.dirty&&n(4,d=Te().domain([0,180,180,360]).range([.5,1,0,.5].map((t=>t*h+c.left)))),98304&t.$$.dirty&&n(5,g=Te().domain([0,a]).range([c.top,c.top+u])),32&t.$$.dirty&&n(8,p=g(0)),32800&t.$$.dirty&&n(9,y=g(a-1)),50&t.$$.dirty&&n(10,m=s.map((t=>{let e="M",n=0;return t.bearingHistories.forEach(((t,r)=>{const i=Math.max(t,n),o=Math.min(t,n);i>=180&&i<260&&o<180&&o>100&&(e+=" M"),n=t,e+=` ${d(t)},${g(r)}`})),e}))),49152&t.$$.dirty&&n(6,v=a*o/1e3),41024&t.$$.dirty&&n(11,b=(()=>{const t=[],e=Math.floor(a/v);for(let n=i%e;n<a;n+=e)t.push(n);return t})())},n(16,u=Ve-c.top-c.bottom),[r,s,l,h,d,g,v,f,p,y,m,b,c,i,o,a,u,function(){l=this.clientWidth,n(2,l)}]}class Ke extends it{constructor(t){super(),rt(this,t,Ge,Be,s,{colors:0,intervalCount:13,intervalTime:14,maxHistoryLength:15,otherActors:1})}}function Ue(e){let n,r,i,a,s,l,c,u,h,f,d,g,p,b,M,k,H,Y,X,S,C,T,j,L,D,P,_,z,I,O,R,q,W,B,V,G,K,U,Z,J,Q,tt,et,nt,rt,it,ot,at,st,lt,ct,ut,ht,ft,dt,gt,pt,yt,mt,vt,bt,$t,xt,wt,Mt,kt,Nt,At,Ht;return{c(){n=$("main"),r=$("div"),i=x("svg"),a=x("g"),s=x("circle"),h=x("g"),f=x("circle"),b=x("line"),Y=x("line"),T=x("line"),_=x("line"),q=x("text"),W=w("0° (360°)"),K=x("text"),U=w("90°"),Q=x("text"),tt=w("180°"),rt=x("text"),it=w("270°"),lt=x("g"),ct=x("line"),pt=x("circle"),$t=x("circle"),A(s,"cx",l=0),A(s,"cy",c=0),A(s,"r",u=Math.min(e[2],e[1])/2),A(s,"fill","#1B2631"),A(f,"cx",d=0),A(f,"cy",g=0),A(f,"r",p=3*e[4]/4),A(f,"class","svelte-14vsimk"),A(b,"x1",M=0),A(b,"y1",k=-e[5]),A(b,"x2",H=0),A(b,"y2",e[5]),A(b,"class","svelte-14vsimk"),A(Y,"x1",X=-e[4]),A(Y,"y1",S=0),A(Y,"x2",e[4]),A(Y,"y2",C=0),A(Y,"class","svelte-14vsimk"),A(T,"x1",j=-e[4]*e[6]),A(T,"y1",L=-e[5]*e[6]),A(T,"x2",D=e[4]*e[6]),A(T,"y2",P=e[5]*e[6]),A(T,"class","svelte-14vsimk"),A(_,"x1",z=e[4]*e[6]),A(_,"y1",I=-e[5]*e[6]),A(_,"x2",O=-e[4]*e[6]),A(_,"y2",R=e[5]*e[6]),A(_,"class","svelte-14vsimk"),A(q,"x",B=0),A(q,"y",V=-e[5]),A(q,"dy",G=-5),A(q,"class","svelte-14vsimk"),A(K,"x",e[4]),A(K,"y",Z=0),A(K,"dy",J=-5),A(K,"class","svelte-14vsimk"),A(Q,"x",et=0),A(Q,"y",e[5]),A(Q,"dy",nt=15),A(Q,"class","svelte-14vsimk"),A(rt,"x",ot=-e[4]),A(rt,"y",at=0),A(rt,"dy",st=-5),A(rt,"class","svelte-14vsimk"),A(h,"class","grid svelte-14vsimk"),A(ct,"opacity",ut=e[0].getOpacity()),A(ct,"stroke","red"),A(ct,"stroke-width","2px"),A(ct,"x1",ht=0),A(ct,"y1",ft=0),A(ct,"x2",dt=e[0].positionX),A(ct,"y2",gt=e[0].positionY),A(pt,"cx",yt=e[0].positionX),A(pt,"cy",mt=e[0].positionY),A(pt,"fill","none"),A(pt,"opacity",vt=e[0].getOpacity()),A(pt,"r",bt=e[0].getSize()),A(pt,"stroke","red"),A(pt,"stroke-width","2px"),A($t,"cx",xt=0),A($t,"cy",wt=0),A($t,"r",Mt=Math.min(e[2],e[1])/2),A($t,"fill","transparent"),A(a,"transform",kt=`translate(${e[1]/2},${e[2]/2})`),A(i,"width",e[1]),A(i,"height",e[2]),A(r,"class","polarContainer svelte-14vsimk"),F((()=>e[13].call(r)))},m(t,o){m(t,n,o),y(n,r),y(r,i),y(i,a),y(a,s),y(a,h),y(h,f),y(h,b),y(h,Y),y(h,T),y(h,_),y(h,q),y(q,W),y(h,K),y(K,U),y(h,Q),y(Q,tt),y(h,rt),y(rt,it),y(a,lt),y(lt,ct),y(lt,pt),y(a,$t),e[12](i),Nt=E(r,e[13].bind(r)),At||(Ht=[N($t,"mousemove",e[7]),N($t,"touchmove",e[8])],At=!0)},p(t,[e]){6&e&&u!==(u=Math.min(t[2],t[1])/2)&&A(s,"r",u),16&e&&p!==(p=3*t[4]/4)&&A(f,"r",p),32&e&&k!==(k=-t[5])&&A(b,"y1",k),32&e&&A(b,"y2",t[5]),16&e&&X!==(X=-t[4])&&A(Y,"x1",X),16&e&&A(Y,"x2",t[4]),16&e&&j!==(j=-t[4]*t[6])&&A(T,"x1",j),32&e&&L!==(L=-t[5]*t[6])&&A(T,"y1",L),16&e&&D!==(D=t[4]*t[6])&&A(T,"x2",D),32&e&&P!==(P=t[5]*t[6])&&A(T,"y2",P),16&e&&z!==(z=t[4]*t[6])&&A(_,"x1",z),32&e&&I!==(I=-t[5]*t[6])&&A(_,"y1",I),16&e&&O!==(O=-t[4]*t[6])&&A(_,"x2",O),32&e&&R!==(R=t[5]*t[6])&&A(_,"y2",R),32&e&&V!==(V=-t[5])&&A(q,"y",V),16&e&&A(K,"x",t[4]),32&e&&A(Q,"y",t[5]),16&e&&ot!==(ot=-t[4])&&A(rt,"x",ot),1&e&&ut!==(ut=t[0].getOpacity())&&A(ct,"opacity",ut),1&e&&dt!==(dt=t[0].positionX)&&A(ct,"x2",dt),1&e&&gt!==(gt=t[0].positionY)&&A(ct,"y2",gt),1&e&&yt!==(yt=t[0].positionX)&&A(pt,"cx",yt),1&e&&mt!==(mt=t[0].positionY)&&A(pt,"cy",mt),1&e&&vt!==(vt=t[0].getOpacity())&&A(pt,"opacity",vt),1&e&&bt!==(bt=t[0].getSize())&&A(pt,"r",bt),6&e&&Mt!==(Mt=Math.min(t[2],t[1])/2)&&A($t,"r",Mt),6&e&&kt!==(kt=`translate(${t[1]/2},${t[2]/2})`)&&A(a,"transform",kt),2&e&&A(i,"width",t[1]),4&e&&A(i,"height",t[2])},i:t,o:t,d(t){t&&v(n),e[12](null),Nt(),At=!1,o(Ht)}}}function Ze(t,e,n){let r=500;const i=Math.sqrt(2)/2;let{actor:o=new st({positionX:0,positionY:-10})}=e;const a=new st({});let s;const l=P();function c(t,e){const i=s.getBoundingClientRect();n(0,o.positionX=t-i.left-r/2,o),n(0,o.positionY=e-i.top-h/2,o),o.updateDistanceFromPlayer(a),l("update")}let u,h,f,d,g,p;return t.$$set=t=>{"actor"in t&&n(0,o=t.actor)},t.$$.update=()=>{2&t.$$.dirty&&n(9,u=Math.min(500,r)),512&t.$$.dirty&&n(2,h=u),512&t.$$.dirty&&n(10,f=u-60),4&t.$$.dirty&&n(11,d=h-60),1024&t.$$.dirty&&n(4,g=f/2),2048&t.$$.dirty&&n(5,p=d/2)},[o,r,h,s,g,p,i,function(t){c(t.clientX,t.clientY)},function(t){t.preventDefault(),c(t.touches[0].clientX,t.touches[0].clientY)},u,f,d,function(t){z[t?"unshift":"push"]((()=>{s=t,n(3,s)}))},function(){r=this.clientWidth,n(1,r)}]}class Je extends it{constructor(t){super(),rt(this,t,Ze,Ue,s,{actor:0})}}function Qe(t){let e,n,r;const i=t[1].default,o=function(t,e,n,r){if(t){const i=c(t,e,n,r);return t[0](i)}}(i,t,t[0],null);return{c(){e=$("main"),n=$("div"),o&&o.c(),A(n,"class","row svelte-1xoi4q2")},m(t,i){m(t,e,i),y(e,n),o&&o.m(n,null),r=!0},p(t,[e]){o&&o.p&&1&e&&u(o,i,t,t[0],e,null,null)},i(t){r||(U(o,t),r=!0)},o(t){Z(o,t),r=!1},d(t){t&&v(e),o&&o.d(t)}}}function tn(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}class en extends it{constructor(t){super(),rt(this,t,tn,Qe,s,{})}}function nn(t,e,n,r,i){let o=Math.atan2(r-e,n-i)*ot;return o-=t,o%=360,o<0&&(o+=360),o}function rn(t){let e,n,r,i;return e=new Je({props:{actor:t[0]}}),r=new Ke({props:{colors:["red"],intervalCount:t[1],intervalTime:50,maxHistoryLength:at,otherActors:[t[0]],width:t[2]}}),{c(){Q(e.$$.fragment),n=M(),Q(r.$$.fragment)},m(t,o){tt(e,t,o),m(t,n,o),tt(r,t,o),i=!0},p(t,n){const i={};1&n&&(i.actor=t[0]),e.$set(i);const o={};2&n&&(o.intervalCount=t[1]),1&n&&(o.otherActors=[t[0]]),r.$set(o)},i(t){i||(U(e.$$.fragment,t),U(r.$$.fragment,t),i=!0)},o(t){Z(e.$$.fragment,t),Z(r.$$.fragment,t),i=!1},d(t){et(e,t),t&&v(n),et(r,t)}}}function on(t){let e,n,r;return n=new en({props:{$$slots:{default:[rn]},$$scope:{ctx:t}}}),{c(){e=$("main"),Q(n.$$.fragment)},m(t,i){m(t,e,i),tt(n,e,null),r=!0},p(t,[e]){const r={};35&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){t&&v(e),et(n)}}}function an(t,e,n){let r=new st({maxHistoryLength:at,positionX:0,positionY:-165}),i=0;const o=setInterval((function(){r.addBearing(nn(0,0,0,r.positionX,r.positionY)),n(0,r),n(1,i++,i)}),50);return D((()=>{clearInterval(o)})),[r,i,undefined]}class sn extends it{constructor(t){super(),rt(this,t,an,on,s,{})}}function ln(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}function cn(e){let n,r,i,a,s,l,c,u,h,f,d,g,p,b,x;return{c(){n=$("main"),r=$("div"),i=$("div"),a=$("label"),a.textContent="Rotate with Player's Perspective:",s=M(),l=$("input"),u=M(),h=$("canvas"),A(a,"for","playerPerspectiveCheckbox"),A(l,"id","playerPerspectiveCheckbox"),A(l,"type","checkbox"),A(i,"class","controlBar svelte-18its9e"),F((()=>e[15].call(i))),A(h,"height",f=e[2]*e[5]),A(h,"oncontextmenu","return false;"),A(h,"style",d=`width:${e[0]}px;height:${e[2]}px;`),A(h,"width",g=e[0]*e[5]),F((()=>e[17].call(r)))},m(t,o){m(t,n,o),y(n,r),y(r,i),y(i,a),y(i,s),y(i,l),l.checked=e[4],c=E(i,e[15].bind(i)),y(r,u),y(r,h),e[16](h),p=E(r,e[17].bind(r)),b||(x=[N(l,"change",e[14]),N(h,"mousedown",e[6]),N(h,"mousemove",e[7]),N(h,"mouseup",e[10]),N(h,"mouseout",e[10]),N(h,"touchstart",e[8]),N(h,"touchmove",e[9]),N(h,"touchend",e[10])],b=!0)},p(t,[e]){16&e&&(l.checked=t[4]),4&e&&f!==(f=t[2]*t[5])&&A(h,"height",f),5&e&&d!==(d=`width:${t[0]}px;height:${t[2]}px;`)&&A(h,"style",d),1&e&&g!==(g=t[0]*t[5])&&A(h,"width",g)},i:t,o:t,d(t){t&&v(n),c(),e[16](null),p(),b=!1,o(x)}}}function un(t){return 100*Math.ceil((t+1)/100)}function hn(t,e,n){let{colors:r}=e,{otherActors:i}=e,{player:o}=e,a=1e3,s=100;const l=window.devicePixelRatio;let c,u=!1;var h;h=()=>{const t=c.getContext("2d");requestAnimationFrame((function(){t.save(),t.scale(l,l),t.save(),t.translate(a/2-o.positionX,f/2-o.positionY),u&&(t.translate(o.positionX,o.positionY),t.rotate(-o.heading/ot),t.translate(-o.positionX,-o.positionY));const e=o.positionX-d/2,n=o.positionY-d/2;t.clearRect(e,n,d,d),t.fillStyle="lightblue",t.fillRect(e,n,d,d),t.strokeStyle="gray",t.lineWidth=.5;const s=e+d,c=n+d;let h=e;for(;h<s;)h=un(h),ln(t,h,n,h,c);for(h=n;h<c;)h=un(h),ln(t,e,h,s,h);t.lineWidth=2,i.forEach(((e,n)=>{t.globalAlpha=e.getOpacity(),t.strokeStyle=r[n],ln(t,o.positionX,o.positionY,e.positionX,e.positionY),t.beginPath(),t.arc(e.positionX,e.positionY,e.getSize(),0,2*Math.PI),t.stroke()})),t.globalAlpha=1,t.translate(o.positionX,o.positionY),t.rotate(o.heading/ot),t.translate(-o.positionX,-o.positionY),t.fillStyle="black",t.strokeStyle="black",t.beginPath(),t.moveTo(o.positionX,o.positionY-8),t.lineTo(o.positionX+6,o.positionY+8),t.lineTo(o.positionX-6,o.positionY+8),t.fill(),t.restore(),t.save(),t.translate(g,p),t.fillStyle="rgba(255,255,255,0.7)",t.fillRect(0,0,105,80),t.fillStyle="black",t.fillText("Movement Type",10,20),i.forEach(((e,n)=>{const i=15*n+35;t.lineWidth=1.5,t.strokeStyle=r[n],t.beginPath(),t.arc(15,i,5,0,2*Math.PI),t.stroke(),ln(t,15,i,30,i),t.fillStyle=r[n],t.fillText(e.label,35,i+3)})),t.restore(),t.restore()}))},L().$$.after_update.push(h);let f,d,g,p,y=!1;function m(t,e){const r=c.getBoundingClientRect(),i=t-r.left,s=e-r.top;o.setHeadingFromDxDy(a/2-i,f/2-s,u),n(11,o.acceleration=.6,o)}return t.$$set=t=>{"colors"in t&&n(12,r=t.colors),"otherActors"in t&&n(13,i=t.otherActors),"player"in t&&n(11,o=t.player)},t.$$.update=()=>{2&t.$$.dirty&&n(2,f=500-s),5&t.$$.dirty&&(d=Math.hypot(a,f)),1&t.$$.dirty&&(g=a-105),4&t.$$.dirty&&(p=f-80)},[a,s,f,c,u,l,function(t){y=!0,m(t.clientX,t.clientY)},function(t){y&&m(t.clientX,t.clientY)},function(t){t.preventDefault(),y=!0,m(t.touches[0].clientX,t.touches[0].clientY)},function(t){y&&(t.preventDefault(),m(t.touches[0].clientX,t.touches[0].clientY))},function(t){y=!1,n(11,o.acceleration=0,o)},o,r,i,function(){u=this.checked,n(4,u)},function(){s=this.clientHeight,n(1,s)},function(t){z[t?"unshift":"push"]((()=>{c=t,n(3,c)}))},function(){a=this.clientWidth,n(0,a)}]}class fn extends it{constructor(t){super(),rt(this,t,hn,cn,s,{colors:12,otherActors:13,player:11})}}function dn(t){let e;return{c(){e=$("div"),e.innerHTML="<div>Click on the ocean to start playing!</div>",A(e,"id","oceanModal"),A(e,"class","svelte-9a3yim")},m(t,n){m(t,e,n)},d(t){t&&v(e)}}}function gn(t){let e,n,r,i,a,s,l,c,u;n=new fn({props:{colors:t[4],otherActors:t[1],player:t[0]}});let h=!1===t[3]&&dn();return s=new Ke({props:{colors:t[4],intervalCount:t[2],intervalTime:50,maxHistoryLength:at,otherActors:t[1]}}),{c(){e=$("div"),Q(n.$$.fragment),r=M(),h&&h.c(),a=M(),Q(s.$$.fragment),A(e,"id","oceanContainer"),A(e,"tabindex",i=1),A(e,"class","svelte-9a3yim")},m(i,o){m(i,e,o),tt(n,e,null),y(e,r),h&&h.m(e,null),m(i,a,o),tt(s,i,o),l=!0,c||(u=[N(e,"blur",t[8]),N(e,"focus",t[7]),N(e,"keydown",t[5]),N(e,"keyup",t[6])],c=!0)},p(t,r){const i={};2&r&&(i.otherActors=t[1]),1&r&&(i.player=t[0]),n.$set(i),!1===t[3]?h||(h=dn(),h.c(),h.m(e,null)):h&&(h.d(1),h=null);const o={};4&r&&(o.intervalCount=t[2]),2&r&&(o.otherActors=t[1]),s.$set(o)},i(t){l||(U(n.$$.fragment,t),U(s.$$.fragment,t),l=!0)},o(t){Z(n.$$.fragment,t),Z(s.$$.fragment,t),l=!1},d(t){t&&v(e),et(n),h&&h.d(),t&&v(a),et(s,t),c=!1,o(u)}}}function pn(t){let e,n,r;return n=new en({props:{$$slots:{default:[gn]},$$scope:{ctx:t}}}),{c(){e=$("main"),Q(n.$$.fragment)},m(t,i){m(t,e,i),tt(n,e,null),r=!0},p(t,[e]){const r={};4111&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){t&&v(e),et(n)}}}function yn(t,e,n){let r=new st({maxHistoryLength:at,positionX:0,positionY:0}),i=[new st({acceleration:.25,label:"Following",maxHistoryLength:at,positionX:-200,positionY:-75}),new st({maxHistoryLength:at,label:"Stationary",positionX:100,positionY:-150}),new st({acceleration:.2,heading:90,label:"Circle",maxHistoryLength:at,positionX:0,positionY:102})];const o=[(t,e)=>{const n=Math.hypot(t.positionX-r.positionX,t.positionY-r.positionY);t.acceleration=n>50?.1:0,t.setHeadingFromDxDy(t.positionX-r.positionX,t.positionY-r.positionY)},()=>{},(t,e)=>{t.incrementHeading(-1)}];let a=0;function s(){r.update(),i.forEach(((t,e)=>{t.update(),t.updateDistanceFromPlayer(r),t.addBearing(nn(r.heading,r.positionX,r.positionY,t.positionX,t.positionY)),o[e](t,a)})),n(1,i),n(2,a++,a)}let l=!1,c=-1;return D((()=>{clearInterval(c)})),[r,i,a,l,["#EC7063","#2ECC71","#3498DB","#AF7AC5","#7D3C98"],function(t){switch(t.keyCode){case 38:case 87:t.preventDefault(),n(0,r.acceleration=.6,r);break;case 39:case 68:t.preventDefault(),n(0,r.angularAcceleration=.4,r);break;case 40:case 83:t.preventDefault(),n(0,r.acceleration=0,r);break;case 37:case 65:t.preventDefault(),n(0,r.angularAcceleration=-.4,r)}},function(t){switch(t.keyCode){case 38:case 87:n(0,r.acceleration=0,r);break;case 39:case 68:n(0,r.angularAcceleration=0,r);break;case 37:case 65:n(0,r.angularAcceleration=0,r)}},function(){!1===l&&(c=setInterval(s,50),n(3,l=!0))},function(t){t.currentTarget.contains(t.relatedTarget)?t.currentTarget.focus():(clearInterval(c),n(3,l=!1))}]}class mn extends it{constructor(t){super(),rt(this,t,yn,pn,s,{})}}function vn(t){let e,n,r,i,o,a,s,l,c,u,h,f,d,g,p,b,x=parseInt(t[0])+"";return e=new Je({props:{actor:t[1]}}),e.$on("update",t[2]),{c(){Q(e.$$.fragment),n=M(),r=$("div"),i=$("div"),o=$("br"),a=M(),s=$("div"),s.textContent="Bearing of Target:",l=M(),c=$("br"),u=$("br"),h=M(),f=$("div"),d=$("b"),g=w(x),p=w("°"),A(s,"class","label svelte-1clkac5"),A(f,"class","bearingValue svelte-1clkac5"),A(r,"class","showBearing svelte-1clkac5")},m(t,v){tt(e,t,v),m(t,n,v),m(t,r,v),y(r,i),y(i,o),y(i,a),y(i,s),y(i,l),y(i,c),y(i,u),y(i,h),y(i,f),y(f,d),y(d,g),y(d,p),b=!0},p(t,e){(!b||1&e)&&x!==(x=parseInt(t[0])+"")&&Y(g,x)},i(t){b||(U(e.$$.fragment,t),b=!0)},o(t){Z(e.$$.fragment,t),b=!1},d(t){et(e,t),t&&v(n),t&&v(r)}}}function bn(t){let e,n,r;return n=new en({props:{$$slots:{default:[vn]},$$scope:{ctx:t}}}),{c(){e=$("main"),Q(n.$$.fragment)},m(t,i){m(t,e,i),tt(n,e,null),r=!0},p(t,[e]){const r={};9&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){t&&v(e),et(n)}}}function $n(t,e,n){let r=new st({maxHistoryLength:100,positionX:0,positionY:-165}),i=0;return[i,r,function(){n(0,i=nn(0,0,0,r.positionX,r.positionY))}]}class xn extends it{constructor(t){super(),rt(this,t,$n,bn,s,{})}}const wn=[];function Mn(t){const e=t-1;return e*e*e+1}function kn(t){return"[object Date]"===Object.prototype.toString.call(t)}function Nn(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>Nn(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(kn(t)&&kn(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=Nn(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function An(r,i={}){const o=function(e,n=t){let r;const i=[];function o(t){if(s(e,t)&&(e=t,r)){const t=!wn.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),wn.push(n,e)}if(t){for(let t=0;t<wn.length;t+=2)wn[t][0](wn[t+1]);wn.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const l=[a,s];return i.push(l),1===i.length&&(r=n(o)||t),a(e),()=>{const t=i.indexOf(l);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}(r);let a,l=r;function c(t,s){if(null==r)return o.set(r=t),Promise.resolve();l=t;let c=a,u=!1,{delay:h=0,duration:y=400,easing:m=e,interpolate:v=Nn}=n(n({},i),s);if(0===y)return c&&(c.abort(),c=null),o.set(r=l),Promise.resolve();const b=f()+h;let $;return a=function(t){let e;return 0===g.size&&d(p),{promise:new Promise((n=>{g.add(e={c:t,f:n})})),abort(){g.delete(e)}}}((e=>{if(e<b)return!0;u||($=v(r,t),"function"==typeof y&&(y=y(r,t)),u=!0),c&&(c.abort(),c=null);const n=e-b;return n>y?(o.set(r=t),!1):(o.set(r=$(m(n/y))),!0)})),a.promise}return{set:c,update:(t,e)=>c(t(l,r),e),subscribe:o.subscribe}}function Hn(t,e,n){const r=t.slice();return r[29]=e[n],r}function Yn(t,e,n){const r=t.slice();return r[32]=e[n],r}function Xn(t){let e,r=[t[32]],i={};for(let t=0;t<r.length;t+=1)i=n(i,r[t]);return{c(){e=x("line"),H(e,i),T(e,"svelte-1yjob1p",!0)},m(t,n){m(t,e,n)},p(t,n){H(e,i=J(r,[512&n[0]&&t[32]])),T(e,"svelte-1yjob1p",!0)},d(t){t&&v(e)}}}function Sn(t){let e,r,i=t[29].text+"",o=[t[29].attr],a={};for(let t=0;t<o.length;t+=1)a=n(a,o[t]);return{c(){e=x("text"),r=w(i),H(e,a),T(e,"svelte-1yjob1p",!0)},m(t,n){m(t,e,n),y(e,r)},p(t,n){1024&n[0]&&i!==(i=t[29].text+"")&&Y(r,i),H(e,a=J(o,[1024&n[0]&&t[29].attr])),T(e,"svelte-1yjob1p",!0)},d(t){t&&v(e)}}}function Cn(e){let n,r,i,o,a,s,l,c,u,h,f,d,g,p,M,k,N,H,Y,X,S,C,T,j,L,D,P,_,z,I,O,R,q,W,B,V,G=Math.round(5)+"",K=e[9],U=[];for(let t=0;t<K.length;t+=1)U[t]=Xn(Yn(e,K,t));let Z=e[10],J=[];for(let t=0;t<Z.length;t+=1)J[t]=Sn(Hn(e,Z,t));return{c(){n=$("main"),r=$("div"),i=x("svg"),o=x("g"),a=x("g"),s=x("path");for(let t=0;t<U.length;t+=1)U[t].c();l=x("line");for(let t=0;t<J.length;t+=1)J[t].c();h=x("g"),f=x("text"),d=w("Now"),M=x("line"),H=x("line"),S=x("line"),j=x("text"),L=w(G),D=w(" sec"),z=x("text"),I=w("ago"),A(s,"d",e[8]),A(s,"class","svelte-1yjob1p"),A(l,"x1",c=e[5](180)),A(l,"y1",e[6]),A(l,"x2",u=e[5](179.9)),A(l,"y2",e[6]),A(l,"class","svelte-1yjob1p"),A(a,"class","grid svelte-1yjob1p"),A(f,"x",g=-20),A(f,"y",e[11]),A(f,"dy",p=5),A(f,"text-anchor","end"),A(M,"x1",k=-15),A(M,"y1",e[11]),A(M,"x2",N=0),A(M,"y2",e[11]),A(M,"class","svelte-1yjob1p"),A(H,"x1",Y=0),A(H,"y1",e[11]),A(H,"x2",X=0),A(H,"y2",e[3]),A(H,"class","svelte-1yjob1p"),A(S,"x1",C=-15),A(S,"y1",e[2]),A(S,"x2",T=0),A(S,"y2",e[3]),A(S,"class","svelte-1yjob1p"),A(j,"x",P=-20),A(j,"y",e[3]),A(j,"dy",_=-5),A(j,"text-anchor","end"),A(z,"x",O=-20),A(z,"y",e[3]),A(z,"dy",R=10),A(z,"text-anchor","end"),A(h,"class","timeAxis svelte-1yjob1p"),A(h,"transform",q=`translate(${-e[2]+En-10},0)`),A(h,"opacity",W=Math.max(0,10*(e[4]-.9))),A(o,"transform",B=`translate(${e[0]/2},${e[1]/2})`),A(i,"width",e[0]),A(i,"height",e[1]),F((()=>e[23].call(r)))},m(t,c){m(t,n,c),y(n,r),y(r,i),y(i,o),y(o,a),y(a,s);for(let t=0;t<U.length;t+=1)U[t].m(a,null);y(a,l);for(let t=0;t<J.length;t+=1)J[t].m(a,null);y(o,h),y(h,f),y(f,d),y(h,M),y(h,H),y(h,S),y(h,j),y(j,L),y(j,D),y(h,z),y(z,I),e[22](i),V=E(r,e[23].bind(r))},p(t,e){if(256&e[0]&&A(s,"d",t[8]),512&e[0]){let n;for(K=t[9],n=0;n<K.length;n+=1){const r=Yn(t,K,n);U[n]?U[n].p(r,e):(U[n]=Xn(r),U[n].c(),U[n].m(a,l))}for(;n<U.length;n+=1)U[n].d(1);U.length=K.length}if(32&e[0]&&c!==(c=t[5](180))&&A(l,"x1",c),64&e[0]&&A(l,"y1",t[6]),32&e[0]&&u!==(u=t[5](179.9))&&A(l,"x2",u),64&e[0]&&A(l,"y2",t[6]),1024&e[0]){let n;for(Z=t[10],n=0;n<Z.length;n+=1){const r=Hn(t,Z,n);J[n]?J[n].p(r,e):(J[n]=Sn(r),J[n].c(),J[n].m(a,null))}for(;n<J.length;n+=1)J[n].d(1);J.length=Z.length}2048&e[0]&&A(f,"y",t[11]),2048&e[0]&&A(M,"y1",t[11]),2048&e[0]&&A(M,"y2",t[11]),2048&e[0]&&A(H,"y1",t[11]),8&e[0]&&A(H,"y2",t[3]),4&e[0]&&A(S,"y1",t[2]),8&e[0]&&A(S,"y2",t[3]),8&e[0]&&A(j,"y",t[3]),8&e[0]&&A(z,"y",t[3]),4&e[0]&&q!==(q=`translate(${-t[2]+En-10},0)`)&&A(h,"transform",q),16&e[0]&&W!==(W=Math.max(0,10*(t[4]-.9)))&&A(h,"opacity",W),3&e[0]&&B!==(B=`translate(${t[0]/2},${t[1]/2})`)&&A(o,"transform",B),1&e[0]&&A(i,"width",t[0]),2&e[0]&&A(i,"height",t[1])},i:t,o:t,d(t){t&&v(n),b(U,t),b(J,t),e[22](null),V()}}}const En=40;function Tn(t,e,n){let r,i,{fullWidth:o=500}=e;const a=An(0,{duration:4e3,easing:Mn});l(t,a,(t=>n(4,r=t)));const s=setInterval((()=>{a.set(1===r?0:1)}),5e3);D((()=>clearInterval(s)));const c=[];for(let t=180;t<360;++t)c.push(t);for(let t=0;t<180;++t)c.push(t);c.push(179.9);const u=[{angle:180,label:"180°",dy:15},{angle:225,label:"",dy:0},{angle:270,label:"270°",dy:-5},{angle:315,label:"",dy:0},{angle:0,label:"0° (360°)",dy:0},{angle:45,label:"",dy:0},{angle:90,label:"90°",dy:-5},{angle:135,label:"",dy:0},{angle:179.999,label:"180°",dy:15}];let h,f,d,g,p,y,m,v,b,$,x,w,M,k,N,A,H,Y;return t.$$set=t=>{"fullWidth"in t&&n(0,o=t.fullWidth)},t.$$.update=()=>{1&t.$$.dirty[0]&&n(13,h=Math.min(500,o)),8192&t.$$.dirty[0]&&n(1,f=h),8192&t.$$.dirty[0]&&n(14,d=h-60),2&t.$$.dirty[0]&&n(15,g=f-60),16384&t.$$.dirty[0]&&n(2,p=d/2),32768&t.$$.dirty[0]&&n(3,y=g/2),16&t.$$.dirty[0]&&n(16,m=r*En),65556&t.$$.dirty[0]&&n(5,v=Te().domain([0,180,180,360]).range([m/2,r*p,-r*p+m,m/2])),24&t.$$.dirty[0]&&n(6,b=r*y),16&t.$$.dirty[0]&&n(17,$=Te().domain([0,180,180,360]).range([0,180*(1-r),180*(r-1),0])),131172&t.$$.dirty[0]&&n(18,x=(t,e=p)=>{const n=v(t),r=$(t)/ot;return{x1:n+e*Math.sin(r),y1:-e*Math.cos(r),x2:n,y2:b}}),16&t.$$.dirty[0]&&n(19,w=(12+3*r)/16),524292&t.$$.dirty[0]&&n(20,M=p*w),1310720&t.$$.dirty[0]&&n(8,k=c.reduce(((t,e)=>{const{x1:n,y1:r}=x(e,M);return t+=` ${n},${r}`}),"M")),262144&t.$$.dirty[0]&&n(9,N=u.map((t=>x(t.angle)))),16&t.$$.dirty[0]&&n(21,A=u.filter((t=>t.label.length>0&&!(179===Math.floor(t.angle)&&0===r)))),2359312&t.$$.dirty[0]&&n(10,H=A.map((t=>{const{x1:e,y1:n}=x(t.angle);return{attr:{x:e,y:n,dy:-5*r+(1-r)*t.dy},text:t.label}}))),524296&t.$$.dirty[0]&&n(11,Y=-y*w)},[o,f,p,y,r,v,b,i,k,N,H,Y,a,h,d,g,m,$,x,w,M,A,function(t){z[t?"unshift":"push"]((()=>{i=t,n(7,i)}))},function(){o=this.clientWidth,n(0,o)}]}class jn extends it{constructor(t){super(),rt(this,t,Tn,Cn,s,{fullWidth:0},[-1,-1])}}function Ln(e){let n,r,i,o,a,s,l,c,u,h,f,d,g,p,b,x,w,k,N,H,Y,X,S,C,E,T,j,L,D,P,_,z,I,O,R;return u=new xn({}),p=new jn({}),N=new sn({}),T=new mn({}),{c(){n=$("main"),r=$("header"),r.innerHTML='<div><h1>Bearing Rate Graphs</h1> \n\t\t\t<p class="svelte-1ta0ux1">How submariners visualize the world around them</p></div>',i=M(),o=$("section"),o.innerHTML='<br/> \n    <br/> \n    <img src="img/submarine.png" alt="submarine" class="svelte-1ta0ux1"/> \n    <div>Mobile Krusty Krab (<a href="https://spongebob.fandom.com/wiki/Mobile_Krusty_Krab" class="svelte-1ta0ux1">SpongeBobia</a>)</div>',a=M(),s=$("section"),l=$("p"),l.innerHTML='Submarines can use <a href="https://en.wikipedia.org/wiki/Sonar" target="_blank" rel="noopener noreferrer">sonar</a> to locate the relative angular positions, called <b>bearings</b>, of nearby vessels. We can represent the front of the submarine as being 0°, then move 360° clockwise around the ship to complete a full circle. So 90° is right, 180° is behind, and 270° is left.',c=M(),Q(u.$$.fragment),h=M(),f=$("section"),d=$("p"),d.innerHTML="What if we wanted to visualize how a target moves relative to us <b>over time</b>? We can &quot;unwrap&quot; the polar coordinate graph into a rectangle, then add a vertical time axis. This visualization, called a <b>bearing rate graph</b>, represents the bearings of targets as they move around us over time.",g=M(),Q(p.$$.fragment),b=M(),x=$("section"),w=$("p"),w.textContent="In the example below, you can change the bearing of the target and see how the bearing rate graph changes!",k=M(),Q(N.$$.fragment),H=M(),Y=$("section"),X=$("h2"),X.textContent="Free Play",S=M(),C=$("p"),C.innerHTML='In this ocean, there are a few targets: one following you, one moving in a circle, and one stationary. You can move around <span id="arrowKeys" class="svelte-1ta0ux1">with arrow keys/WASD or</span> by pressing and holding down on a point in the ocean. See if you can intepret the bearing rate graph!',E=M(),Q(T.$$.fragment),j=M(),L=$("p"),L.textContent="Notice that when you stay still, the red and green lines in the bearing rate chart straighten out because the bearings of those targets are relatively constant. If you were operating a real submarine, a straight line on your bearing rate chart could indicate something stationary or someone following you!",D=M(),P=$("section"),P.innerHTML='<h2>Smarter Every Day&#39;s Video</h2> \n\n\t\t<div id="limitWidth" class="svelte-1ta0ux1"><div id="videoContainer" class="svelte-1ta0ux1"><iframe title="video" width="560" height="315" src="https://www.youtube.com/embed/AqqaYs7LjlM?start=477" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="svelte-1ta0ux1"></iframe></div></div>',_=M(),z=$("section"),z.innerHTML="<h2>Encoding More Data</h2> \n\t\t<p>It&#39;s difficult to determine, based on SED&#39;s unclassified video, the exact implementation of the bearing rate graphs used on the submarines. I built my BRGs based off his examples, and also encoded the distance of the target to scale inversely with the circle size and opacity.</p> \n\t\t<p>Other data about the target(s) that could potentially be encoded into BRGs include:</p> \n\t\t<ul><li>Classification (ie ship, sub, etc) based on the sound or loudness</li> \n\t\t\t<li>Relative Depth</li> \n\t\t\t<li>Change in distance (ie moving away vs coming towards)</li></ul>",I=M(),O=$("footer"),O.innerHTML='<p>This site was inspired by Smarter Every Day&#39;s video about sonar</p> \n\t\t<p>Built using <a href="https://svelte.dev/" target="_blank" rel="noopener noreferrer">Svelte</a> and <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">Typescript</a></p> \n\t\t<p>Github Repo: <a href="https://github.com/harryli0088/bearing-rate-graph" target="_blank" rel="noopener noreferrer">https://github.com/harryli0088/bearing-rate-graph</a></p> \n\t\t<p><b>Disclaimer:</b> I am not an expert on bearing rate graphs or submarine operations. This website&#39;s purpose is to interactively explore the concept of a bearing rate graph and may differ from real-world usage. You are welcome to give me feedback by opening an issue in the <a href="https://github.com/harryli0088/bearing-rate-graph" target="_blank" rel="noopener noreferrer">repo</a>!</p>',A(r,"class","svelte-1ta0ux1"),A(o,"id","imgContainer"),A(o,"class","svelte-1ta0ux1"),A(s,"class","svelte-1ta0ux1"),A(f,"class","svelte-1ta0ux1"),A(x,"class","svelte-1ta0ux1"),A(Y,"class","svelte-1ta0ux1"),A(P,"id","video"),A(P,"class","svelte-1ta0ux1"),A(z,"class","svelte-1ta0ux1"),A(O,"class","svelte-1ta0ux1"),A(n,"class","svelte-1ta0ux1")},m(t,e){m(t,n,e),y(n,r),y(n,i),y(n,o),y(n,a),y(n,s),y(s,l),y(s,c),tt(u,s,null),y(n,h),y(n,f),y(f,d),y(f,g),tt(p,f,null),y(n,b),y(n,x),y(x,w),y(x,k),tt(N,x,null),y(n,H),y(n,Y),y(Y,X),y(Y,S),y(Y,C),y(Y,E),tt(T,Y,null),y(Y,j),y(Y,L),y(n,D),y(n,P),y(n,_),y(n,z),y(n,I),y(n,O),R=!0},p:t,i(t){R||(U(u.$$.fragment,t),U(p.$$.fragment,t),U(N.$$.fragment,t),U(T.$$.fragment,t),R=!0)},o(t){Z(u.$$.fragment,t),Z(p.$$.fragment,t),Z(N.$$.fragment,t),Z(T.$$.fragment,t),R=!1},d(t){t&&v(n),et(u),et(p),et(N),et(T)}}}class Dn extends it{constructor(t){super(),rt(this,t,null,Ln,s,{})}}function Pn(e){let n,r,i;return r=new Dn({}),{c(){n=$("main"),Q(r.$$.fragment)},m(t,e){m(t,n,e),tt(r,n,null),i=!0},p:t,i(t){i||(U(r.$$.fragment,t),i=!0)},o(t){Z(r.$$.fragment,t),i=!1},d(t){t&&v(n),et(r)}}}return new class extends it{constructor(t){super(),rt(this,t,null,Pn,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
