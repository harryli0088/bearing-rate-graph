var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function c(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function u(t,e,n,r,i,o,a){const s=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(s){const i=c(e,n,r,a);t.p(i,s)}}const h="undefined"!=typeof window;let f=h?()=>window.performance.now():()=>Date.now(),d=h?t=>requestAnimationFrame(t):t;const p=new Set;function g(t){p.forEach((e=>{e.c(t)||(p.delete(e),e.f())})),0!==p.size&&d(g)}function y(t,e){t.appendChild(e)}function m(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function x(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function M(){return w(" ")}function k(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function N(t,e){for(const n in e)A(t,n,e[n])}function Y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let X,H;function C(){if(void 0===X){X=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){X=!0}}return X}function S(t,e){const n=getComputedStyle(t),r=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(t.style.position="relative");const i=$("iframe");i.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${r};`),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=C();let a;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",a=k(window,"message",(t=>{t.source===i.contentWindow&&e()}))):(i.src="about:blank",i.onload=()=>{a=k(i.contentWindow,"resize",e)}),y(t,i),()=>{(o||a&&i.contentWindow)&&a(),v(i)}}function E(t,e,n){t.classList[n?"add":"remove"](e)}function T(t){H=t}function j(){if(!H)throw new Error("Function called outside component initialization");return H}function P(t){j().$$.on_destroy.push(t)}const L=[],D=[],_=[],z=[],I=Promise.resolve();let O=!1;function R(t){_.push(t)}let q=!1;const F=new Set;function W(){if(!q){q=!0;do{for(let t=0;t<L.length;t+=1){const e=L[t];T(e),B(e.$$)}for(T(null),L.length=0;D.length;)D.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];F.has(e)||(F.add(e),e())}_.length=0}while(L.length);for(;z.length;)z.pop()();O=!1,q=!1,F.clear()}}function B(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(R)}}const V=new Set;function G(t,e){t&&t.i&&(V.delete(t),t.i(e))}function K(t,e,n,r){if(t&&t.o){if(V.has(t))return;V.add(t),undefined.c.push((()=>{V.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function U(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function Z(t){t&&t.c()}function J(t,e,n){const{fragment:i,on_mount:s,on_destroy:l,after_update:c}=t.$$;i&&i.m(e,n),R((()=>{const e=s.map(r).filter(a);l?l.push(...e):o(e),t.$$.on_mount=[]})),c.forEach(R)}function Q(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e){-1===t.$$.dirty[0]&&(L.push(t),O||(O=!0,I.then(W)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(e,n,r,a,s,l,c=[-1]){const u=H;T(e);const h=n.props||{},f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:c,skip_bound:!1};let d=!1;if(f.ctx=r?r(e,h,((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&tt(e,t)),n})):[],f.update(),d=!0,o(f.before_update),f.fragment=!!a&&a(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(v)}else f.fragment&&f.fragment.c();n.intro&&G(e.$$.fragment),J(e,n.target,n.anchor),W()}T(u)}class nt{$destroy(){Q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const rt=180/Math.PI;class it{constructor(t){var e,n,r,i,o,a,s,l,c;this.bearingHistories=[],this.distanceFromPlayer=100,this.update=()=>{this.angularVelocity+=this.angularAcceleration,this.angularVelocity*=.9,this.incrementHeading(this.angularVelocity);const t=(this.heading-90)/rt;this.velocityX+=this.acceleration*Math.cos(t),this.velocityY+=this.acceleration*Math.sin(t),this.velocityX*=.9,this.velocityY*=.9,this.positionX+=this.velocityX,this.positionY+=this.velocityY},this.updateDistanceFromPlayer=t=>{this.distanceFromPlayer=Math.hypot(this.positionX-t.positionX,this.positionY-t.positionY)},this.getSize=()=>Math.min(40,1e3/(this.distanceFromPlayer+10)),this.getOpacity=()=>400/(this.distanceFromPlayer+400),this.addBearing=t=>{this.bearingHistories.unshift(t),this.bearingHistories.length>this.maxHistoryLength&&this.bearingHistories.pop()},this.setHeading=t=>{this.heading=t%360},this.setHeadingFromDxDy=(t,e)=>{this.setHeading(-Math.atan2(t,e)*rt)},this.incrementHeading=t=>{this.setHeading(this.heading+t)},this.acceleration=null!==(e=t.acceleration)&&void 0!==e?e:0,this.angularAcceleration=null!==(n=t.angularAcceleration)&&void 0!==n?n:0,this.angularVelocity=null!==(r=t.angularVelocity)&&void 0!==r?r:0,this.heading=null!==(i=t.heading)&&void 0!==i?i:0,this.label=t.label||"",this.maxHistoryLength=null!==(o=t.maxHistoryLength)&&void 0!==o?o:50,this.positionX=null!==(a=t.positionX)&&void 0!==a?a:0,this.positionY=null!==(s=t.positionY)&&void 0!==s?s:0,this.velocityX=null!==(l=t.velocityX)&&void 0!==l?l:0,this.velocityY=null!==(c=t.velocityY)&&void 0!==c?c:0}}function ot(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function at(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>ot(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,n,i,o-1);return a>i&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}const st=at(ot).right;at((function(t){return null===t?NaN:+t})).center;var lt=Math.sqrt(50),ct=Math.sqrt(10),ut=Math.sqrt(2);function ht(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=lt?10:o>=ct?5:o>=ut?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=lt?10:o>=ct?5:o>=ut?2:1)}function ft(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function dt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function pt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gt(){}var yt=.7,mt=1/yt,vt="\\s*([+-]?\\d+)\\s*",bt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",$t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xt=/^#([0-9a-f]{3,8})$/,wt=new RegExp("^rgb\\("+[vt,vt,vt]+"\\)$"),Mt=new RegExp("^rgb\\("+[$t,$t,$t]+"\\)$"),kt=new RegExp("^rgba\\("+[vt,vt,vt,bt]+"\\)$"),At=new RegExp("^rgba\\("+[$t,$t,$t,bt]+"\\)$"),Nt=new RegExp("^hsl\\("+[bt,$t,$t]+"\\)$"),Yt=new RegExp("^hsla\\("+[bt,$t,$t,bt]+"\\)$"),Xt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ht(){return this.rgb().formatHex()}function Ct(){return this.rgb().formatRgb()}function St(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=xt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Et(e):3===n?new Lt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Tt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Tt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=wt.exec(t))?new Lt(e[1],e[2],e[3],1):(e=Mt.exec(t))?new Lt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=kt.exec(t))?Tt(e[1],e[2],e[3],e[4]):(e=At.exec(t))?Tt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Nt.exec(t))?It(e[1],e[2]/100,e[3]/100,1):(e=Yt.exec(t))?It(e[1],e[2]/100,e[3]/100,e[4]):Xt.hasOwnProperty(t)?Et(Xt[t]):"transparent"===t?new Lt(NaN,NaN,NaN,0):null}function Et(t){return new Lt(t>>16&255,t>>8&255,255&t,1)}function Tt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Lt(t,e,n,r)}function jt(t){return t instanceof gt||(t=St(t)),t?new Lt((t=t.rgb()).r,t.g,t.b,t.opacity):new Lt}function Pt(t,e,n,r){return 1===arguments.length?jt(t):new Lt(t,e,n,null==r?1:r)}function Lt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Dt(){return"#"+zt(this.r)+zt(this.g)+zt(this.b)}function _t(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function zt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function It(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rt(t,e,n,r)}function Ot(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);if(t instanceof gt||(t=St(t)),!t)return new Rt;if(t instanceof Rt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Rt(a,s,l,t.opacity)}function Rt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function qt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}dt(gt,St,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ht,formatHex:Ht,formatHsl:function(){return Ot(this).formatHsl()},formatRgb:Ct,toString:Ct}),dt(Lt,Pt,pt(gt,{brighter:function(t){return t=null==t?mt:Math.pow(mt,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?yt:Math.pow(yt,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dt,formatHex:Dt,formatRgb:_t,toString:_t})),dt(Rt,(function(t,e,n,r){return 1===arguments.length?Ot(t):new Rt(t,e,n,null==r?1:r)}),pt(gt,{brighter:function(t){return t=null==t?mt:Math.pow(mt,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?yt:Math.pow(yt,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Lt(qt(t>=240?t-240:t+120,i,r),qt(t,i,r),qt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ft=t=>()=>t;function Wt(t){return 1==(t=+t)?Bt:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ft(isNaN(e)?n:e)}}function Bt(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Ft(isNaN(t)?e:t)}var Vt=function t(e){var n=Wt(e);function r(t,e){var r=n((t=Pt(t)).r,(e=Pt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Bt(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Gt(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Kt(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=ne(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Ut(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Zt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Jt(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=ne(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Qt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,te=new RegExp(Qt.source,"g");function ee(t,e){var n,r,i,o=Qt.lastIndex=te.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Qt.exec(t))&&(r=te.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Zt(n,r)})),o=te.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function ne(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?Ft(e):("number"===i?Zt:"string"===i?(n=St(e))?(e=n,Vt):ee:e instanceof St?Vt:e instanceof Date?Ut:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Kt:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Jt:Zt:Gt))(t,e)}function re(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ie(t){return+t}var oe=[0,1];function ae(t){return t}function se(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function le(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=se(i,r),o=n(a,o)):(r=se(r,i),o=n(o,a)),function(t){return o(r(t))}}function ce(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=se(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=st(t,e,1,r)-1;return o[n](i[n](e))}}function ue(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function he(){var t,e,n,r,i,o,a=oe,s=oe,l=ne,c=ae;function u(){var t,e,n,l=Math.min(a.length,s.length);return c!==ae&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=l>2?ce:le,i=o=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),Zt)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,ie),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=re,u()},h.clamp=function(t){return arguments.length?(c=!!t||ae,u()):c!==ae},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function fe(){return he()(ae,ae)}function de(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function pe(t){return(t=de(Math.abs(t)))?t[1]:NaN}var ge,ye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function me(t){if(!(e=ye.exec(t)))throw new Error("invalid format: "+t);var e;return new ve({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ve(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function be(t,e){var n=de(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}me.prototype=ve.prototype,ve.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var $e={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>be(100*t,e),r:be,s:function(t,e){var n=de(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(ge=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+de(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xe(t){return t}var we,Me,ke,Ae=Array.prototype.map,Ne=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ye(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?xe:(e=Ae.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?xe:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ae.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=me(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,y=t.precision,m=t.trim,v=t.type;"n"===v?(g=!0,v="g"):$e[v]||(void 0===y&&(y=12),m=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",$="$"===f?o:/[%p]/.test(v)?l:"",x=$e[v],w=/[defgprs%]/.test(v);function M(t){var i,o,l,f=b,M=$;if("c"===v)M=x(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),y),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==h&&(k=!1),f=(k?"("===h?h:c:"-"===h||"("===h?"":h)+f,M=("s"===v?Ne[8+ge/3]:"")+M+(k&&"("===h?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){M=(46===l?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var A=f.length+t.length+M.length,N=A<p?new Array(p-A+1).join(e):"";switch(g&&d&&(t=r(N+t,N.length?p-M.length:1/0),N=""),n){case"<":t=f+t+M+N;break;case"=":t=f+N+t+M;break;case"^":t=N.slice(0,A=N.length>>1)+f+t+M+N.slice(A);break;default:t=N+f+t+M}return s(t)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,e){var n=h(((t=me(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(pe(e)/3))),i=Math.pow(10,-r),o=Ne[8+r/3];return function(t){return n(i*t)+o}}}}function Xe(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=lt?i*=10:o>=ct?i*=5:o>=ut&&(i*=2),e<t?-i:i}(t,e,n);switch((r=me(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(pe(e)/3)))-pe(Math.abs(t)))}(o,a))||(r.precision=i),ke(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,pe(e)-pe(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-pe(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Me(r)}function He(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=ht(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(a=-a,t=Math.ceil(t*a),e=Math.floor(e*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Xe(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=ht(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Ce(){var t=fe();return t.copy=function(){return ue(t,Ce())},ft.apply(t,arguments),He(t)}function Se(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function Ee(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function Te(t,e,n){const r=t.slice();return r[22]=e[n],r}function je(t,e,n){const r=t.slice();return r[22]=e[n],r}function Pe(t,e,n){const r=t.slice();return r[27]=e[n],r}function Le(t){let e,n,r,i,o;return{c(){e=x("line"),A(e,"x1",n=t[12].left),A(e,"y1",r=t[5](t[27])),A(e,"x2",i=t[12].left+t[3]),A(e,"y2",o=t[5](t[27])),A(e,"class","svelte-a4k3aa")},m(t,n){m(t,e,n)},p(t,n){2080&n&&r!==(r=t[5](t[27]))&&A(e,"y1",r),8&n&&i!==(i=t[12].left+t[3])&&A(e,"x2",i),2080&n&&o!==(o=t[5](t[27]))&&A(e,"y2",o)},d(t){t&&v(e)}}}function De(t){let e,n,r,i,o,a,s=t[22].text+"";return{c(){e=x("text"),n=w(s),r=w("°\n\t        "),A(e,"dy",i=-15),A(e,"text-anchor","middle"),A(e,"x",o=t[22].x+t[12].left),A(e,"y",a=t[12].top)},m(t,i){m(t,e,i),y(e,n),y(e,r)},p(t,r){128&r&&s!==(s=t[22].text+"")&&Y(n,s),128&r&&o!==(o=t[22].x+t[12].left)&&A(e,"x",o)},d(t){t&&v(e)}}}function _e(t){let e,n,r;return{c(){e=x("line"),A(e,"x1",n=t[22].x+t[12].left),A(e,"x2",r=t[22].x+t[12].left),A(e,"y1",t[8]),A(e,"y2",t[9]),A(e,"class","svelte-a4k3aa")},m(t,n){m(t,e,n)},p(t,i){128&i&&n!==(n=t[22].x+t[12].left)&&A(e,"x1",n),128&i&&r!==(r=t[22].x+t[12].left)&&A(e,"x2",r),256&i&&A(e,"y1",t[8]),512&i&&A(e,"y2",t[9])},d(t){t&&v(e)}}}function ze(t){let e,n=function(t){let e,n,r,i;return{c(){e=x("path"),A(e,"d",n=t[10][t[20]]),A(e,"opacity",r=t[18].getOpacity()),A(e,"stroke",i=t[0][t[20]]),A(e,"class","svelte-a4k3aa")},m(t,n){m(t,e,n)},p(t,o){1024&o&&n!==(n=t[10][t[20]])&&A(e,"d",n),2&o&&r!==(r=t[18].getOpacity())&&A(e,"opacity",r),1&o&&i!==(i=t[0][t[20]])&&A(e,"stroke",i)},d(t){t&&v(e)}}}(t);return{c(){n&&n.c(),e=w("")},m(t,r){n&&n.m(t,r),m(t,e,r)},p(t,e){n.p(t,e)},d(t){n&&n.d(t),t&&v(e)}}}function Ie(t){let e,n,r,i,o,a;return{c(){e=x("circle"),A(e,"cx",n=t[4](t[18].bearingHistories[0])),A(e,"cy",r=t[5](0)),A(e,"opacity",i=t[18].getOpacity()),A(e,"r",o=t[18].getSize()),A(e,"stroke",a=t[0][t[20]]),A(e,"class","svelte-a4k3aa")},m(t,n){m(t,e,n)},p(t,s){18&s&&n!==(n=t[4](t[18].bearingHistories[0]))&&A(e,"cx",n),32&s&&r!==(r=t[5](0))&&A(e,"cy",r),2&s&&i!==(i=t[18].getOpacity())&&A(e,"opacity",i),2&s&&o!==(o=t[18].getSize())&&A(e,"r",o),1&s&&a!==(a=t[0][t[20]])&&A(e,"stroke",a)},d(t){t&&v(e)}}}function Oe(e){let n,r,i,o,a,s,l,c,u,h,f,d,p,g,M,k,N,X,H,C,E,T,j,P,L,D,_,z,I,O,q,F,W,B,V,G,K=Math.round(e[6])+"",U=e[11],Z=[];for(let t=0;t<U.length;t+=1)Z[t]=Le(Pe(e,U,t));let J=e[7],Q=[];for(let t=0;t<J.length;t+=1)Q[t]=De(je(e,J,t));let tt=e[7],et=[];for(let t=0;t<tt.length;t+=1)et[t]=_e(Te(e,tt,t));let nt=e[1],rt=[];for(let t=0;t<nt.length;t+=1)rt[t]=ze(Ee(e,nt,t));let it=e[1],ot=[];for(let t=0;t<it.length;t+=1)ot[t]=Ie(Se(e,it,t));return{c(){n=$("main"),r=$("div"),i=x("svg"),o=x("g");for(let t=0;t<Z.length;t+=1)Z[t].c();a=x("g");for(let t=0;t<Q.length;t+=1)Q[t].c();s=x("g"),l=x("text"),c=w("Now"),d=x("line"),N=x("line"),E=x("line"),P=x("text"),L=w(K),D=w(" sec"),I=x("text"),O=w("ago"),W=x("g");for(let t=0;t<et.length;t+=1)et[t].c();B=x("g");for(let t=0;t<rt.length;t+=1)rt[t].c();V=x("g");for(let t=0;t<ot.length;t+=1)ot[t].c();A(l,"x",u=e[12].left-20),A(l,"y",h=e[5](0)),A(l,"dy",f=5),A(l,"text-anchor","end"),A(d,"class","axis svelte-a4k3aa"),A(d,"x1",p=e[12].left-15),A(d,"y1",g=e[5](0)),A(d,"x2",M=e[12].left),A(d,"y2",k=e[5](0)),A(N,"class","axis svelte-a4k3aa"),A(N,"x1",X=e[12].left),A(N,"y1",H=e[5](0)),A(N,"x2",C=e[12].left),A(N,"y2",e[9]),A(E,"class","axis svelte-a4k3aa"),A(E,"x1",T=e[12].left-15),A(E,"y1",e[9]),A(E,"x2",j=e[12].left),A(E,"y2",e[9]),A(P,"x",_=e[12].left-20),A(P,"y",e[9]),A(P,"dy",z=-5),A(P,"text-anchor","end"),A(I,"x",q=e[12].left-20),A(I,"y",e[9]),A(I,"dy",F=10),A(I,"text-anchor","end"),A(s,"transform","translate(-20,0)"),A(i,"width",e[2]),A(i,"height",Re),A(i,"class","svelte-a4k3aa"),R((()=>e[17].call(r))),A(n,"class","svelte-a4k3aa")},m(t,u){m(t,n,u),y(n,r),y(r,i),y(i,o);for(let t=0;t<Z.length;t+=1)Z[t].m(o,null);y(i,a);for(let t=0;t<Q.length;t+=1)Q[t].m(a,null);y(i,s),y(s,l),y(l,c),y(s,d),y(s,N),y(s,E),y(s,P),y(P,L),y(P,D),y(s,I),y(I,O),y(i,W);for(let t=0;t<et.length;t+=1)et[t].m(W,null);y(i,B);for(let t=0;t<rt.length;t+=1)rt[t].m(B,null);y(i,V);for(let t=0;t<ot.length;t+=1)ot[t].m(V,null);G=S(r,e[17].bind(r))},p(t,[e]){if(6184&e){let n;for(U=t[11],n=0;n<U.length;n+=1){const r=Pe(t,U,n);Z[n]?Z[n].p(r,e):(Z[n]=Le(r),Z[n].c(),Z[n].m(o,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=U.length}if(4224&e){let n;for(J=t[7],n=0;n<J.length;n+=1){const r=je(t,J,n);Q[n]?Q[n].p(r,e):(Q[n]=De(r),Q[n].c(),Q[n].m(a,null))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=J.length}if(32&e&&h!==(h=t[5](0))&&A(l,"y",h),32&e&&g!==(g=t[5](0))&&A(d,"y1",g),32&e&&k!==(k=t[5](0))&&A(d,"y2",k),32&e&&H!==(H=t[5](0))&&A(N,"y1",H),512&e&&A(N,"y2",t[9]),512&e&&A(E,"y1",t[9]),512&e&&A(E,"y2",t[9]),64&e&&K!==(K=Math.round(t[6])+"")&&Y(L,K),512&e&&A(P,"y",t[9]),512&e&&A(I,"y",t[9]),4992&e){let n;for(tt=t[7],n=0;n<tt.length;n+=1){const r=Te(t,tt,n);et[n]?et[n].p(r,e):(et[n]=_e(r),et[n].c(),et[n].m(W,null))}for(;n<et.length;n+=1)et[n].d(1);et.length=tt.length}if(1027&e){let n;for(nt=t[1],n=0;n<nt.length;n+=1){const r=Ee(t,nt,n);rt[n]?rt[n].p(r,e):(rt[n]=ze(r),rt[n].c(),rt[n].m(B,null))}for(;n<rt.length;n+=1)rt[n].d(1);rt.length=nt.length}if(51&e){let n;for(it=t[1],n=0;n<it.length;n+=1){const r=Se(t,it,n);ot[n]?ot[n].p(r,e):(ot[n]=Ie(r),ot[n].c(),ot[n].m(V,null))}for(;n<ot.length;n+=1)ot[n].d(1);ot.length=it.length}4&e&&A(i,"width",t[2])},i:t,o:t,d(t){t&&v(n),b(Z,t),b(Q,t),b(et,t),b(rt,t),b(ot,t),G()}}}we=Ye({thousands:",",grouping:[3],currency:["$",""]}),Me=we.format,ke=we.formatPrefix;let Re=500;function qe(t,e,n){let{colors:r}=e,{intervalCount:i=0}=e,{intervalTime:o=50}=e,{maxHistoryLength:a=50}=e,{otherActors:s=[]}=e,l=1e3;const c={top:40,left:100,right:20,bottom:15};let u,h,f,d,p,g,y,m,v,b;return t.$$set=t=>{"colors"in t&&n(0,r=t.colors),"intervalCount"in t&&n(13,i=t.intervalCount),"intervalTime"in t&&n(14,o=t.intervalTime),"maxHistoryLength"in t&&n(15,a=t.maxHistoryLength),"otherActors"in t&&n(1,s=t.otherActors)},t.$$.update=()=>{4&t.$$.dirty&&n(3,h=l-c.left-c.right),8&t.$$.dirty&&n(7,f=[{text:180,x:0},{text:270,x:h/4},{text:0,x:h/2},{text:90,x:3*h/4},{text:180,x:h}]),8&t.$$.dirty&&n(4,d=Ce().domain([0,180,180,360]).range([.5,1,0,.5].map((t=>t*h+c.left)))),98304&t.$$.dirty&&n(5,p=Ce().domain([0,a]).range([c.top,c.top+u])),32&t.$$.dirty&&n(8,g=p(0)),32800&t.$$.dirty&&n(9,y=p(a-1)),50&t.$$.dirty&&n(10,m=s.map((t=>{let e="M",n=0;return t.bearingHistories.forEach(((t,r)=>{const i=Math.max(t,n),o=Math.min(t,n);i>=180&&i<260&&o<180&&o>100&&(e+=" M"),n=t,e+=` ${d(t)},${p(r)}`})),e}))),49152&t.$$.dirty&&n(6,v=a*o/1e3),41024&t.$$.dirty&&n(11,b=(()=>{const t=[],e=Math.floor(a/v);for(let n=i%e;n<a;n+=e)t.push(n);return t})())},n(16,u=Re-c.top-c.bottom),[r,s,l,h,d,p,v,f,g,y,m,b,c,i,o,a,u,function(){l=this.clientWidth,n(2,l)}]}class Fe extends nt{constructor(t){super(),et(this,t,qe,Oe,s,{colors:0,intervalCount:13,intervalTime:14,maxHistoryLength:15,otherActors:1})}}function We(e){let n,r,i,a,s,l,c,u,h,f,d,p,g,b,M,N,Y,X,H,C,E,T,j,P,L,D,_,z,I,O,q,F,W,B,V,G,K,U,Z,J,Q,tt,et,nt,rt,it,ot,at,st,lt,ct,ut,ht,ft,dt,pt,gt,yt,mt,vt,bt;return{c(){n=$("main"),r=$("div"),i=x("svg"),a=x("g"),s=x("g"),l=x("circle"),f=x("line"),b=x("line"),X=x("line"),j=x("line"),z=x("text"),I=w("0° (360°)"),W=x("text"),B=w("90°"),K=x("text"),U=w("180°"),Q=x("text"),tt=w("270°"),it=x("g"),ot=x("line"),ht=x("circle"),A(l,"cx",c=0),A(l,"cy",u=0),A(l,"r",h=3*e[4]/4),A(l,"class","svelte-14vsimk"),A(f,"x1",d=0),A(f,"y1",p=-e[5]),A(f,"x2",g=0),A(f,"y2",e[5]),A(f,"class","svelte-14vsimk"),A(b,"x1",M=-e[4]),A(b,"y1",N=0),A(b,"x2",e[4]),A(b,"y2",Y=0),A(b,"class","svelte-14vsimk"),A(X,"x1",H=-e[4]*e[6]),A(X,"y1",C=-e[5]*e[6]),A(X,"x2",E=e[4]*e[6]),A(X,"y2",T=e[5]*e[6]),A(X,"class","svelte-14vsimk"),A(j,"x1",P=e[4]*e[6]),A(j,"y1",L=-e[5]*e[6]),A(j,"x2",D=-e[4]*e[6]),A(j,"y2",_=e[5]*e[6]),A(j,"class","svelte-14vsimk"),A(z,"x",O=0),A(z,"y",q=-e[5]),A(z,"dy",F=-5),A(z,"class","svelte-14vsimk"),A(W,"x",e[4]),A(W,"y",V=0),A(W,"dy",G=-5),A(W,"class","svelte-14vsimk"),A(K,"x",Z=0),A(K,"y",e[5]),A(K,"dy",J=15),A(K,"class","svelte-14vsimk"),A(Q,"x",et=-e[4]),A(Q,"y",nt=0),A(Q,"dy",rt=-5),A(Q,"class","svelte-14vsimk"),A(s,"class","grid svelte-14vsimk"),A(ot,"opacity",at=e[0].getOpacity()),A(ot,"stroke","red"),A(ot,"stroke-width","2px"),A(ot,"x1",st=0),A(ot,"y1",lt=0),A(ot,"x2",ct=e[0].positionX),A(ot,"y2",ut=e[0].positionY),A(ht,"cx",ft=e[0].positionX),A(ht,"cy",dt=e[0].positionY),A(ht,"fill","none"),A(ht,"opacity",pt=e[0].getOpacity()),A(ht,"r",gt=e[0].getSize()),A(ht,"stroke","red"),A(ht,"stroke-width","2px"),A(a,"transform",yt=`translate(${e[1]/2},${e[2]/2})`),A(i,"width",e[1]),A(i,"height",e[2]),A(r,"class","polarContainer svelte-14vsimk"),R((()=>e[14].call(r)))},m(t,o){m(t,n,o),y(n,r),y(r,i),y(i,a),y(a,s),y(s,l),y(s,f),y(s,b),y(s,X),y(s,j),y(s,z),y(z,I),y(s,W),y(W,B),y(s,K),y(K,U),y(s,Q),y(Q,tt),y(a,it),y(it,ot),y(it,ht),e[13](i),mt=S(r,e[14].bind(r)),vt||(bt=[k(i,"mousemove",e[7]),k(i,"touchmove",e[8])],vt=!0)},p(t,[e]){16&e&&h!==(h=3*t[4]/4)&&A(l,"r",h),32&e&&p!==(p=-t[5])&&A(f,"y1",p),32&e&&A(f,"y2",t[5]),16&e&&M!==(M=-t[4])&&A(b,"x1",M),16&e&&A(b,"x2",t[4]),16&e&&H!==(H=-t[4]*t[6])&&A(X,"x1",H),32&e&&C!==(C=-t[5]*t[6])&&A(X,"y1",C),16&e&&E!==(E=t[4]*t[6])&&A(X,"x2",E),32&e&&T!==(T=t[5]*t[6])&&A(X,"y2",T),16&e&&P!==(P=t[4]*t[6])&&A(j,"x1",P),32&e&&L!==(L=-t[5]*t[6])&&A(j,"y1",L),16&e&&D!==(D=-t[4]*t[6])&&A(j,"x2",D),32&e&&_!==(_=t[5]*t[6])&&A(j,"y2",_),32&e&&q!==(q=-t[5])&&A(z,"y",q),16&e&&A(W,"x",t[4]),32&e&&A(K,"y",t[5]),16&e&&et!==(et=-t[4])&&A(Q,"x",et),1&e&&at!==(at=t[0].getOpacity())&&A(ot,"opacity",at),1&e&&ct!==(ct=t[0].positionX)&&A(ot,"x2",ct),1&e&&ut!==(ut=t[0].positionY)&&A(ot,"y2",ut),1&e&&ft!==(ft=t[0].positionX)&&A(ht,"cx",ft),1&e&&dt!==(dt=t[0].positionY)&&A(ht,"cy",dt),1&e&&pt!==(pt=t[0].getOpacity())&&A(ht,"opacity",pt),1&e&&gt!==(gt=t[0].getSize())&&A(ht,"r",gt),6&e&&yt!==(yt=`translate(${t[1]/2},${t[2]/2})`)&&A(a,"transform",yt),2&e&&A(i,"width",t[1]),4&e&&A(i,"height",t[2])},i:t,o:t,d(t){t&&v(n),e[13](null),mt(),vt=!1,o(bt)}}}function Be(t,e,n){let r=500;const i=Math.sqrt(2)/2;let{actor:o=new it({positionX:0,positionY:-10})}=e;const a=new it({});let s;let l,c,u,h,f,d,{updateActorPositionCallback:p=(()=>{})}=e;function g(t,e){const i=s.getBoundingClientRect();n(0,o.positionX=t-i.left-r/2,o),n(0,o.positionY=e-i.top-c/2,o),o.updateDistanceFromPlayer(a),p()}return t.$$set=t=>{"actor"in t&&n(0,o=t.actor),"updateActorPositionCallback"in t&&n(9,p=t.updateActorPositionCallback)},t.$$.update=()=>{2&t.$$.dirty&&n(10,l=Math.min(500,r)),1024&t.$$.dirty&&n(2,c=l),1024&t.$$.dirty&&n(11,u=l-60),4&t.$$.dirty&&n(12,h=c-60),2048&t.$$.dirty&&n(4,f=u/2),4096&t.$$.dirty&&n(5,d=h/2)},[o,r,c,s,f,d,i,function(t){g(t.clientX,t.clientY)},function(t){t.preventDefault(),g(t.touches[0].clientX,t.touches[0].clientY)},p,l,u,h,function(t){D[t?"unshift":"push"]((()=>{s=t,n(3,s)}))},function(){r=this.clientWidth,n(1,r)}]}class Ve extends nt{constructor(t){super(),et(this,t,Be,We,s,{actor:0,updateActorPositionCallback:9})}}function Ge(t){let e,n,r;const i=t[1].default,o=function(t,e,n,r){if(t){const i=c(t,e,n,r);return t[0](i)}}(i,t,t[0],null);return{c(){e=$("main"),n=$("div"),o&&o.c(),A(n,"class","row svelte-1xoi4q2")},m(t,i){m(t,e,i),y(e,n),o&&o.m(n,null),r=!0},p(t,[e]){o&&o.p&&1&e&&u(o,i,t,t[0],e,null,null)},i(t){r||(G(o,t),r=!0)},o(t){K(o,t),r=!1},d(t){t&&v(e),o&&o.d(t)}}}function Ke(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}class Ue extends nt{constructor(t){super(),et(this,t,Ke,Ge,s,{})}}function Ze(t,e,n,r,i){let o=Math.atan2(r-e,n-i)*rt;return o-=t,o%=360,o<0&&(o+=360),o}function Je(t){let e,n,r,i;return e=new Ve({props:{actor:t[0]}}),r=new Fe({props:{colors:["red"],intervalCount:t[1],intervalTime:en,maxHistoryLength:tn,otherActors:[t[0]],width:t[2]}}),{c(){Z(e.$$.fragment),n=M(),Z(r.$$.fragment)},m(t,o){J(e,t,o),m(t,n,o),J(r,t,o),i=!0},p(t,n){const i={};1&n&&(i.actor=t[0]),e.$set(i);const o={};2&n&&(o.intervalCount=t[1]),1&n&&(o.otherActors=[t[0]]),r.$set(o)},i(t){i||(G(e.$$.fragment,t),G(r.$$.fragment,t),i=!0)},o(t){K(e.$$.fragment,t),K(r.$$.fragment,t),i=!1},d(t){Q(e,t),t&&v(n),Q(r,t)}}}function Qe(t){let e,n,r;return n=new Ue({props:{$$slots:{default:[Je]},$$scope:{ctx:t}}}),{c(){e=$("main"),Z(n.$$.fragment)},m(t,i){m(t,e,i),J(n,e,null),r=!0},p(t,[e]){const r={};35&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(G(n.$$.fragment,t),r=!0)},o(t){K(n.$$.fragment,t),r=!1},d(t){t&&v(e),Q(n)}}}const tn=100,en=50;function nn(t,e,n){let r=new it({maxHistoryLength:tn,positionX:0,positionY:-165}),i=0;const o=setInterval((function(){r.addBearing(Ze(0,0,0,r.positionX,r.positionY)),n(0,r),n(1,i++,i)}),en);return P((()=>{clearInterval(o)})),[r,i,undefined]}class rn extends nt{constructor(t){super(),et(this,t,nn,Qe,s,{})}}function on(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}function an(e){let n,r,i,a,s,l,c,u,h,f,d,p,g,b,x;return{c(){n=$("main"),r=$("div"),i=$("div"),a=$("label"),a.textContent="Rotate with Player's Perspective:",s=M(),l=$("input"),u=M(),h=$("canvas"),A(a,"for","playerPerspectiveCheckbox"),A(l,"id","playerPerspectiveCheckbox"),A(l,"type","checkbox"),A(i,"class","controlBar svelte-18its9e"),R((()=>e[15].call(i))),A(h,"height",f=e[2]*e[5]),A(h,"oncontextmenu","return false;"),A(h,"style",d=`width:${e[0]}px;height:${e[2]}px;`),A(h,"width",p=e[0]*e[5]),R((()=>e[17].call(r)))},m(t,o){m(t,n,o),y(n,r),y(r,i),y(i,a),y(i,s),y(i,l),l.checked=e[4],c=S(i,e[15].bind(i)),y(r,u),y(r,h),e[16](h),g=S(r,e[17].bind(r)),b||(x=[k(l,"change",e[14]),k(h,"mousedown",e[6]),k(h,"mousemove",e[7]),k(h,"mouseup",e[10]),k(h,"mouseout",e[10]),k(h,"touchstart",e[8]),k(h,"touchmove",e[9]),k(h,"touchend",e[10])],b=!0)},p(t,[e]){16&e&&(l.checked=t[4]),4&e&&f!==(f=t[2]*t[5])&&A(h,"height",f),5&e&&d!==(d=`width:${t[0]}px;height:${t[2]}px;`)&&A(h,"style",d),1&e&&p!==(p=t[0]*t[5])&&A(h,"width",p)},i:t,o:t,d(t){t&&v(n),c(),e[16](null),g(),b=!1,o(x)}}}function sn(t){return 100*Math.ceil((t+1)/100)}function ln(t,e,n){let{colors:r}=e,{otherActors:i}=e,{player:o}=e,a=1e3,s=100;const l=window.devicePixelRatio;let c,u=!1;var h;h=()=>{const t=c.getContext("2d");requestAnimationFrame((function(){t.save(),t.scale(l,l),t.save(),t.translate(a/2-o.positionX,f/2-o.positionY),u&&(t.translate(o.positionX,o.positionY),t.rotate(-o.heading/rt),t.translate(-o.positionX,-o.positionY));const e=o.positionX-d/2,n=o.positionY-d/2;t.clearRect(e,n,d,d),t.fillStyle="lightblue",t.fillRect(e,n,d,d),t.strokeStyle="gray",t.lineWidth=.5;const s=e+d,c=n+d;let h=e;for(;h<s;)h=sn(h),on(t,h,n,h,c);for(h=n;h<c;)h=sn(h),on(t,e,h,s,h);t.lineWidth=2,i.forEach(((e,n)=>{t.globalAlpha=e.getOpacity(),t.strokeStyle=r[n],on(t,o.positionX,o.positionY,e.positionX,e.positionY),t.beginPath(),t.arc(e.positionX,e.positionY,e.getSize(),0,2*Math.PI),t.stroke()})),t.globalAlpha=1,t.translate(o.positionX,o.positionY),t.rotate(o.heading/rt),t.translate(-o.positionX,-o.positionY),t.fillStyle="black",t.strokeStyle="black",t.beginPath(),t.moveTo(o.positionX,o.positionY-6),t.lineTo(o.positionX+5,o.positionY+6),t.lineTo(o.positionX-5,o.positionY+6),t.fill(),t.restore(),t.save(),t.translate(p,g),t.fillStyle="rgba(255,255,255,0.7)",t.fillRect(0,0,105,80),t.fillStyle="black",t.fillText("Movement Type",10,20),i.forEach(((e,n)=>{const i=15*n+35;t.lineWidth=1.5,t.strokeStyle=r[n],t.beginPath(),t.arc(15,i,5,0,2*Math.PI),t.stroke(),on(t,15,i,30,i),t.fillStyle=r[n],t.fillText(e.label,35,i+3)})),t.restore(),t.restore()}))},j().$$.after_update.push(h);let f,d,p,g,y=!1;function m(t,e){const r=c.getBoundingClientRect(),i=t-r.left,s=e-r.top;o.setHeadingFromDxDy(a/2-i,f/2-s),n(11,o.acceleration=.6,o)}return t.$$set=t=>{"colors"in t&&n(12,r=t.colors),"otherActors"in t&&n(13,i=t.otherActors),"player"in t&&n(11,o=t.player)},t.$$.update=()=>{2&t.$$.dirty&&n(2,f=500-s),5&t.$$.dirty&&(d=Math.hypot(a,f)),1&t.$$.dirty&&(p=a-105),4&t.$$.dirty&&(g=f-80)},[a,s,f,c,u,l,function(t){y=!0,m(t.clientX,t.clientY)},function(t){y&&m(t.clientX,t.clientY)},function(t){y=!0,m(t.touches[0].clientX,t.touches[0].clientY)},function(t){y&&m(t.touches[0].clientX,t.touches[0].clientY)},function(t){y=!1,n(11,o.acceleration=0,o)},o,r,i,function(){u=this.checked,n(4,u)},function(){s=this.clientHeight,n(1,s)},function(t){D[t?"unshift":"push"]((()=>{c=t,n(3,c)}))},function(){a=this.clientWidth,n(0,a)}]}class cn extends nt{constructor(t){super(),et(this,t,ln,an,s,{colors:12,otherActors:13,player:11})}}function un(t){let e;return{c(){e=$("div"),e.innerHTML="<div>Click on the ocean to start playing!</div>",A(e,"id","oceanModal"),A(e,"class","svelte-9a3yim")},m(t,n){m(t,e,n)},d(t){t&&v(e)}}}function hn(t){let e,n,r,i,a,s,l,c,u;n=new cn({props:{colors:t[4],otherActors:t[1],player:t[0]}});let h=!1===t[3]&&un();return s=new Fe({props:{colors:t[4],intervalCount:t[2],intervalTime:pn,maxHistoryLength:dn,otherActors:t[1]}}),{c(){e=$("div"),Z(n.$$.fragment),r=M(),h&&h.c(),a=M(),Z(s.$$.fragment),A(e,"id","oceanContainer"),A(e,"tabindex",i=1),A(e,"class","svelte-9a3yim")},m(i,o){m(i,e,o),J(n,e,null),y(e,r),h&&h.m(e,null),m(i,a,o),J(s,i,o),l=!0,c||(u=[k(e,"blur",t[8]),k(e,"focus",t[7]),k(e,"keydown",t[5]),k(e,"keyup",t[6])],c=!0)},p(t,r){const i={};2&r&&(i.otherActors=t[1]),1&r&&(i.player=t[0]),n.$set(i),!1===t[3]?h||(h=un(),h.c(),h.m(e,null)):h&&(h.d(1),h=null);const o={};4&r&&(o.intervalCount=t[2]),2&r&&(o.otherActors=t[1]),s.$set(o)},i(t){l||(G(n.$$.fragment,t),G(s.$$.fragment,t),l=!0)},o(t){K(n.$$.fragment,t),K(s.$$.fragment,t),l=!1},d(t){t&&v(e),Q(n),h&&h.d(),t&&v(a),Q(s,t),c=!1,o(u)}}}function fn(t){let e,n,r;return n=new Ue({props:{$$slots:{default:[hn]},$$scope:{ctx:t}}}),{c(){e=$("main"),Z(n.$$.fragment)},m(t,i){m(t,e,i),J(n,e,null),r=!0},p(t,[e]){const r={};4111&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(G(n.$$.fragment,t),r=!0)},o(t){K(n.$$.fragment,t),r=!1},d(t){t&&v(e),Q(n)}}}const dn=100,pn=50;function gn(t,e,n){let r=new it({maxHistoryLength:dn,positionX:0,positionY:0}),i=[new it({acceleration:.25,label:"Following",maxHistoryLength:dn,positionX:-200,positionY:-75}),new it({maxHistoryLength:dn,label:"Stationary",positionX:100,positionY:-150}),new it({acceleration:.2,heading:90,label:"Circle",maxHistoryLength:dn,positionX:0,positionY:102})];const o=[(t,e)=>{const n=Math.hypot(t.positionX-r.positionX,t.positionY-r.positionY);t.acceleration=n>50?.1:0,t.setHeadingFromDxDy(t.positionX-r.positionX,t.positionY-r.positionY)},()=>{},(t,e)=>{t.incrementHeading(-1)}];let a=0;function s(){r.update(),i.forEach(((t,e)=>{t.update(),t.updateDistanceFromPlayer(r),t.addBearing(Ze(r.heading,r.positionX,r.positionY,t.positionX,t.positionY)),o[e](t,a)})),n(1,i),n(2,a++,a)}let l=!1,c=-1;return P((()=>{clearInterval(c)})),[r,i,a,l,["#EC7063","#2ECC71","#3498DB","#AF7AC5","#7D3C98"],function(t){switch(t.keyCode){case 38:case 87:t.preventDefault(),n(0,r.acceleration=.6,r);break;case 39:case 68:t.preventDefault(),n(0,r.angularAcceleration=.4,r);break;case 40:case 83:t.preventDefault(),n(0,r.acceleration=0,r);break;case 37:case 65:t.preventDefault(),n(0,r.angularAcceleration=-.4,r)}},function(t){switch(t.keyCode){case 38:case 87:n(0,r.acceleration=0,r);break;case 39:case 68:n(0,r.angularAcceleration=0,r);break;case 37:case 65:n(0,r.angularAcceleration=0,r)}},function(){!1===l&&(c=setInterval(s,pn),n(3,l=!0))},function(t){t.currentTarget.contains(t.relatedTarget)?t.currentTarget.focus():(clearInterval(c),n(3,l=!1))}]}class yn extends nt{constructor(t){super(),et(this,t,gn,fn,s,{})}}function mn(t){let e,n,r,i,o,a,s,l,c,u,h,f,d,p,g=parseInt(t[0])+"";return e=new Ve({props:{actor:t[1],updateActorPositionCallback:t[2]}}),{c(){Z(e.$$.fragment),n=M(),r=$("div"),i=$("div"),o=$("div"),o.textContent="Bearing of Target:",a=M(),s=$("br"),l=$("br"),c=M(),u=$("div"),h=$("b"),f=w(g),d=w("°"),A(o,"class","label svelte-1clkac5"),A(u,"class","bearingValue svelte-1clkac5"),A(r,"class","showBearing svelte-1clkac5")},m(t,g){J(e,t,g),m(t,n,g),m(t,r,g),y(r,i),y(i,o),y(i,a),y(i,s),y(i,l),y(i,c),y(i,u),y(u,h),y(h,f),y(h,d),p=!0},p(t,e){(!p||1&e)&&g!==(g=parseInt(t[0])+"")&&Y(f,g)},i(t){p||(G(e.$$.fragment,t),p=!0)},o(t){K(e.$$.fragment,t),p=!1},d(t){Q(e,t),t&&v(n),t&&v(r)}}}function vn(t){let e,n,r;return n=new Ue({props:{$$slots:{default:[mn]},$$scope:{ctx:t}}}),{c(){e=$("main"),Z(n.$$.fragment)},m(t,i){m(t,e,i),J(n,e,null),r=!0},p(t,[e]){const r={};9&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(G(n.$$.fragment,t),r=!0)},o(t){K(n.$$.fragment,t),r=!1},d(t){t&&v(e),Q(n)}}}function bn(t,e,n){let r=new it({maxHistoryLength:100,positionX:0,positionY:-165}),i=0;return[i,r,function(){n(0,i=Ze(0,0,0,r.positionX,r.positionY))}]}class $n extends nt{constructor(t){super(),et(this,t,bn,vn,s,{})}}const xn=[];function wn(t){const e=t-1;return e*e*e+1}function Mn(t){return"[object Date]"===Object.prototype.toString.call(t)}function kn(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>kn(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Mn(t)&&Mn(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=kn(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function An(r,i={}){const o=function(e,n=t){let r;const i=[];function o(t){if(s(e,t)&&(e=t,r)){const t=!xn.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),xn.push(n,e)}if(t){for(let t=0;t<xn.length;t+=2)xn[t][0](xn[t+1]);xn.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const l=[a,s];return i.push(l),1===i.length&&(r=n(o)||t),a(e),()=>{const t=i.indexOf(l);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}(r);let a,l=r;function c(t,s){if(null==r)return o.set(r=t),Promise.resolve();l=t;let c=a,u=!1,{delay:h=0,duration:y=400,easing:m=e,interpolate:v=kn}=n(n({},i),s);if(0===y)return c&&(c.abort(),c=null),o.set(r=l),Promise.resolve();const b=f()+h;let $;return a=function(t){let e;return 0===p.size&&d(g),{promise:new Promise((n=>{p.add(e={c:t,f:n})})),abort(){p.delete(e)}}}((e=>{if(e<b)return!0;u||($=v(r,t),"function"==typeof y&&(y=y(r,t)),u=!0),c&&(c.abort(),c=null);const n=e-b;return n>y?(o.set(r=t),!1):(o.set(r=$(m(n/y))),!0)})),a.promise}return{set:c,update:(t,e)=>c(t(l,r),e),subscribe:o.subscribe}}function Nn(t,e,n){const r=t.slice();return r[28]=e[n],r}function Yn(t,e,n){const r=t.slice();return r[31]=e[n],r}function Xn(t){let e,r=[t[31]],i={};for(let t=0;t<r.length;t+=1)i=n(i,r[t]);return{c(){e=x("line"),N(e,i),E(e,"svelte-1yjob1p",!0)},m(t,n){m(t,e,n)},p(t,n){N(e,i=U(r,[512&n[0]&&t[31]])),E(e,"svelte-1yjob1p",!0)},d(t){t&&v(e)}}}function Hn(t){let e,r,i=t[28].text+"",o=[t[28].attr],a={};for(let t=0;t<o.length;t+=1)a=n(a,o[t]);return{c(){e=x("text"),r=w(i),N(e,a),E(e,"svelte-1yjob1p",!0)},m(t,n){m(t,e,n),y(e,r)},p(t,n){1024&n[0]&&i!==(i=t[28].text+"")&&Y(r,i),N(e,a=U(o,[1024&n[0]&&t[28].attr])),E(e,"svelte-1yjob1p",!0)},d(t){t&&v(e)}}}function Cn(e){let n,r,i,o,a,s,l,c,u,h,f,d,p,g,M,k,N,Y,X,H,C,E,T,j,P,L,D,_,z,I,O,q,F,W,B,V,G,K,U,Z,J,Q=5..toFixed(1)+"",tt=e[9],et=[];for(let t=0;t<tt.length;t+=1)et[t]=Xn(Yn(e,tt,t));let nt=e[10],rt=[];for(let t=0;t<nt.length;t+=1)rt[t]=Hn(Nn(e,nt,t));return{c(){n=$("main"),r=$("div"),i=x("svg"),o=x("g"),a=x("g"),s=x("path");for(let t=0;t<et.length;t+=1)et[t].c();l=x("line"),h=x("text"),f=w("0° (360°)");for(let t=0;t<rt.length;t+=1)rt[t].c();M=x("g"),k=x("text"),N=w("Now"),H=x("line"),T=x("line"),L=x("line"),z=x("text"),I=w(Q),O=w(" sec"),W=x("text"),B=w("ago"),A(s,"d",e[8]),A(s,"class","svelte-1yjob1p"),A(l,"x1",c=e[5](180)),A(l,"y1",e[6]),A(l,"x2",u=e[5](179.9)),A(l,"y2",e[6]),A(l,"class","svelte-1yjob1p"),A(h,"x",d=0),A(h,"y",p=-e[3]),A(h,"dy",g=-5),A(h,"class","svelte-1yjob1p"),A(a,"class","grid svelte-1yjob1p"),A(k,"x",Y=-20),A(k,"y",e[11]),A(k,"dy",X=5),A(k,"text-anchor","end"),A(H,"x1",C=-15),A(H,"y1",e[11]),A(H,"x2",E=0),A(H,"y2",e[11]),A(H,"class","svelte-1yjob1p"),A(T,"x1",j=0),A(T,"y1",e[11]),A(T,"x2",P=0),A(T,"y2",e[3]),A(T,"class","svelte-1yjob1p"),A(L,"x1",D=-15),A(L,"y1",e[2]),A(L,"x2",_=0),A(L,"y2",e[3]),A(L,"class","svelte-1yjob1p"),A(z,"x",q=-20),A(z,"y",e[3]),A(z,"dy",F=-5),A(z,"text-anchor","end"),A(W,"x",V=-20),A(W,"y",e[3]),A(W,"dy",G=10),A(W,"text-anchor","end"),A(M,"class","timeAxis svelte-1yjob1p"),A(M,"transform",K=`translate(${-e[2]-10},0)`),A(M,"opacity",U=Math.max(0,10*(e[4]-.9))),A(o,"transform",Z=`translate(${e[0]/2},${e[1]/2})`),A(i,"width",e[0]),A(i,"height",e[1]),R((()=>e[22].call(r)))},m(t,c){m(t,n,c),y(n,r),y(r,i),y(i,o),y(o,a),y(a,s);for(let t=0;t<et.length;t+=1)et[t].m(a,null);y(a,l),y(a,h),y(h,f);for(let t=0;t<rt.length;t+=1)rt[t].m(a,null);y(o,M),y(M,k),y(k,N),y(M,H),y(M,T),y(M,L),y(M,z),y(z,I),y(z,O),y(M,W),y(W,B),e[21](i),J=S(r,e[22].bind(r))},p(t,e){if(256&e[0]&&A(s,"d",t[8]),512&e[0]){let n;for(tt=t[9],n=0;n<tt.length;n+=1){const r=Yn(t,tt,n);et[n]?et[n].p(r,e):(et[n]=Xn(r),et[n].c(),et[n].m(a,l))}for(;n<et.length;n+=1)et[n].d(1);et.length=tt.length}if(32&e[0]&&c!==(c=t[5](180))&&A(l,"x1",c),64&e[0]&&A(l,"y1",t[6]),32&e[0]&&u!==(u=t[5](179.9))&&A(l,"x2",u),64&e[0]&&A(l,"y2",t[6]),8&e[0]&&p!==(p=-t[3])&&A(h,"y",p),1024&e[0]){let n;for(nt=t[10],n=0;n<nt.length;n+=1){const r=Nn(t,nt,n);rt[n]?rt[n].p(r,e):(rt[n]=Hn(r),rt[n].c(),rt[n].m(a,null))}for(;n<rt.length;n+=1)rt[n].d(1);rt.length=nt.length}2048&e[0]&&A(k,"y",t[11]),2048&e[0]&&A(H,"y1",t[11]),2048&e[0]&&A(H,"y2",t[11]),2048&e[0]&&A(T,"y1",t[11]),8&e[0]&&A(T,"y2",t[3]),4&e[0]&&A(L,"y1",t[2]),8&e[0]&&A(L,"y2",t[3]),8&e[0]&&A(z,"y",t[3]),8&e[0]&&A(W,"y",t[3]),4&e[0]&&K!==(K=`translate(${-t[2]-10},0)`)&&A(M,"transform",K),16&e[0]&&U!==(U=Math.max(0,10*(t[4]-.9)))&&A(M,"opacity",U),3&e[0]&&Z!==(Z=`translate(${t[0]/2},${t[1]/2})`)&&A(o,"transform",Z),1&e[0]&&A(i,"width",t[0]),2&e[0]&&A(i,"height",t[1])},i:t,o:t,d(t){t&&v(n),b(et,t),b(rt,t),e[21](null),J()}}}function Sn(t,e,n){let r,i,{fullWidth:o=500}=e;const a=An(0,{duration:4e3,easing:wn});l(t,a,(t=>n(4,r=t)));const s=setInterval((()=>{a.set(1===r?0:1)}),5e3);P((()=>clearInterval(s)));const c=[];for(let t=180;t<360;++t)c.push(t);for(let t=0;t<180;++t)c.push(t);c.push(179.9);const u=[{angle:180,label:"180",dy:15},{angle:225,label:"",dy:0},{angle:270,label:"270",dy:-5},{angle:315,label:"",dy:0},{angle:0,label:"",dy:0},{angle:45,label:"",dy:0},{angle:90,label:"90",dy:-5},{angle:135,label:"",dy:0},{angle:179.999,label:"180",dy:15}];let h,f,d,p,g,y,m,v,b,$,x,w,M,k,A,N,Y;return t.$$set=t=>{"fullWidth"in t&&n(0,o=t.fullWidth)},t.$$.update=()=>{1&t.$$.dirty[0]&&n(13,h=Math.min(500,o)),8192&t.$$.dirty[0]&&n(1,f=h),8192&t.$$.dirty[0]&&n(14,d=h-60),2&t.$$.dirty[0]&&n(15,p=f-60),16384&t.$$.dirty[0]&&n(2,g=d/2),32768&t.$$.dirty[0]&&n(3,y=p/2),20&t.$$.dirty[0]&&n(5,m=Ce().domain([0,180,180,360]).range([0,r*g,-r*g,0])),24&t.$$.dirty[0]&&n(6,v=r*y),16&t.$$.dirty[0]&&n(16,b=Ce().domain([0,180,180,360]).range([0,180*(1-r),180*(r-1),0])),65636&t.$$.dirty[0]&&n(17,$=(t,e=g)=>{const n=m(t),r=b(t)/rt;return{x1:n+e*Math.sin(r),y1:-e*Math.cos(r),x2:n,y2:v}}),16&t.$$.dirty[0]&&n(18,x=(12+3*r)/16),262148&t.$$.dirty[0]&&n(19,w=g*x),655360&t.$$.dirty[0]&&n(8,M=c.reduce(((t,e)=>{const{x1:n,y1:r}=$(e,w);return t+=` ${n},${r}`}),"M")),131072&t.$$.dirty[0]&&n(9,k=u.map((t=>$(t.angle)))),16&t.$$.dirty[0]&&n(20,A=u.filter((t=>t.label.length>0&&!(179===Math.floor(t.angle)&&0===r)))),1179664&t.$$.dirty[0]&&n(10,N=A.map((t=>{const{x1:e,y1:n}=$(t.angle);return{attr:{x:e,y:n,dy:-5*r+(1-r)*t.dy},text:t.label}}))),262152&t.$$.dirty[0]&&n(11,Y=-y*x)},[o,f,g,y,r,m,v,i,M,k,N,Y,a,h,d,p,b,$,x,w,A,function(t){D[t?"unshift":"push"]((()=>{i=t,n(7,i)}))},function(){o=this.clientWidth,n(0,o)}]}class En extends nt{constructor(t){super(),et(this,t,Sn,Cn,s,{fullWidth:0},[-1,-1])}}function Tn(e){let n,r,i,o,a,s,l,c,u,h,f,d,p,g,b,x,w,k,N,Y,X,H,C,S,E,T,j,P,L,D,_,z,I,O,R;return u=new $n({}),g=new En({}),N=new rn({}),T=new yn({}),{c(){n=$("main"),r=$("header"),r.innerHTML='<div><h1>Bearing Rate Graphs</h1> \n\t\t\t<p class="svelte-1ta0ux1">How submariners visualize the world around them</p></div>',i=M(),o=$("section"),o.innerHTML='<br/> \n    <br/> \n    <img src="img/submarine.png" alt="submarine" class="svelte-1ta0ux1"/> \n    <div>Mobile Krusty Krab (<a href="https://spongebob.fandom.com/wiki/Mobile_Krusty_Krab" class="svelte-1ta0ux1">SpongeBobia</a>)</div>',a=M(),s=$("section"),l=$("p"),l.innerHTML='Submarines can use <a href="https://en.wikipedia.org/wiki/Sonar" target="_blank" rel="noopener noreferrer">sonar</a> to locate the relative angular positions, called <b>bearings</b>, of nearby vessels. We can represent the front of the submarine as being 0°, then move 360° clockwise around the ship to complete a full circle. So 90° is right, 180° is behind, and 270° is left.',c=M(),Z(u.$$.fragment),h=M(),f=$("section"),d=$("p"),d.innerHTML="What if we wanted to visualize how a target moves relative to us <b>over time</b>? We can &quot;unwrap&quot; the polar coordinate graph into a rectangle, then add a vertical time axis. This visualization, called a <b>bearing rate graph</b>, represents the bearings of targets as they move around us over time.",p=M(),Z(g.$$.fragment),b=M(),x=$("section"),w=$("p"),w.textContent="In the example below, you can change the bearing of the target and see how the bearing rate graph changes!",k=M(),Z(N.$$.fragment),Y=M(),X=$("section"),H=$("h2"),H.textContent="Free Play",C=M(),S=$("p"),S.innerHTML='In this ocean, there are a few targets: one following you, one moving in a circle, and one stationary. You can move around <span id="arrowKeys" class="svelte-1ta0ux1">with arrow keys/WASD or</span> by pressing and holding down on a point in the ocean. See if you can intepret the bearing rate graph!',E=M(),Z(T.$$.fragment),j=M(),P=$("p"),P.textContent="Notice that when you stay still, the red and green lines in the bearing rate chart straighten out because the bearings of those targets are relatively constant. If you were operating a real submarine, a straight line on your bearing rate chart could indicate something stationary or someone following you!",L=M(),D=$("section"),D.innerHTML='<h2>Smarter Every Day&#39;s Video</h2> \n\n\t\t<div id="limitWidth" class="svelte-1ta0ux1"><div id="videoContainer" class="svelte-1ta0ux1"><iframe title="video" width="560" height="315" src="https://www.youtube.com/embed/AqqaYs7LjlM?start=477" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="svelte-1ta0ux1"></iframe></div></div>',_=M(),z=$("section"),z.innerHTML="<h2>Encoding More Data</h2> \n\t\t<p>It&#39;s difficult to determine, based on SED&#39;s unclassified video, the exact implementation of the bearing rate graphs used on the submarines. I built my BRGs based off his examples, and also encoded the distance of the target to scale inversely with the circle size and opacity.</p> \n\t\t<p>Other data about the target(s) that could potentially be encoded into BRGs include:</p> \n\t\t<ul><li>Classification (ie ship, sub, etc) based on the sound or loudness</li> \n\t\t\t<li>Relative Depth</li> \n\t\t\t<li>Change in distance (ie moving away vs coming towards)</li></ul>",I=M(),O=$("footer"),O.innerHTML='<p>This site was inspired by Smarter Every Day&#39;s video about sonar</p> \n\t\t<p>Built using <a href="https://svelte.dev/" target="_blank" rel="noopener noreferrer">Svelte</a> and <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">Typescript</a></p> \n\t\t<p>Github Repo: <a href="https://github.com/harryli0088/bearing-rate-graph" target="_blank" rel="noopener noreferrer">https://github.com/harryli0088/bearing-rate-graph</a></p> \n\t\t<p><b>Disclaimer:</b> I am not an expert on bearing rate graphs or submarine operations. This website&#39;s purpose is to interactively explore the concept of a bearing rate graph and may differ from real-world usage. You are welcome to give me feedback by opening an issue in the <a href="https://github.com/harryli0088/bearing-rate-graph" target="_blank" rel="noopener noreferrer">repo</a>!</p>',A(r,"class","svelte-1ta0ux1"),A(o,"id","imgContainer"),A(o,"class","svelte-1ta0ux1"),A(s,"class","svelte-1ta0ux1"),A(f,"class","svelte-1ta0ux1"),A(x,"class","svelte-1ta0ux1"),A(X,"class","svelte-1ta0ux1"),A(D,"id","video"),A(D,"class","svelte-1ta0ux1"),A(z,"class","svelte-1ta0ux1"),A(O,"class","svelte-1ta0ux1"),A(n,"class","svelte-1ta0ux1")},m(t,e){m(t,n,e),y(n,r),y(n,i),y(n,o),y(n,a),y(n,s),y(s,l),y(s,c),J(u,s,null),y(n,h),y(n,f),y(f,d),y(f,p),J(g,f,null),y(n,b),y(n,x),y(x,w),y(x,k),J(N,x,null),y(n,Y),y(n,X),y(X,H),y(X,C),y(X,S),y(X,E),J(T,X,null),y(X,j),y(X,P),y(n,L),y(n,D),y(n,_),y(n,z),y(n,I),y(n,O),R=!0},p:t,i(t){R||(G(u.$$.fragment,t),G(g.$$.fragment,t),G(N.$$.fragment,t),G(T.$$.fragment,t),R=!0)},o(t){K(u.$$.fragment,t),K(g.$$.fragment,t),K(N.$$.fragment,t),K(T.$$.fragment,t),R=!1},d(t){t&&v(n),Q(u),Q(g),Q(N),Q(T)}}}class jn extends nt{constructor(t){super(),et(this,t,null,Tn,s,{})}}function Pn(e){let n,r,i;return r=new jn({}),{c(){n=$("main"),Z(r.$$.fragment)},m(t,e){m(t,n,e),J(r,n,null),i=!0},p:t,i(t){i||(G(r.$$.fragment,t),i=!0)},o(t){K(r.$$.fragment,t),i=!1},d(t){t&&v(n),Q(r)}}}return new class extends nt{constructor(t){super(),et(this,t,null,Pn,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
